---
layout: ""
page_title: dynatrace_automation_workflow_k8s_connections Resource - terraform-provider-dynatrace"
subcategory: "Connections"
description: |-
  The resource `dynatrace_automation_workflow_k8s_connections` covers configuration for Kubernetes Automation for Workflows app
---

# dynatrace_automation_workflow_k8s_connections (Resource)

-> This resource requires the API token scopes **Read settings** (`settings.read`) and **Write settings** (`settings.write`)

-> This resource requires the OAuth scopes **Read settings** (`settings:objects:read`) and **Write settings** (`settings:objects:write`)

## Limitations
~> **Warning** If a resource is created using an API token or without setting `DYNATRACE_HTTP_OAUTH_PREFERENCE=true` (when both are used), the settings object's owner will remain empty.

An empty owner implies:
- The settings object becomes public, allowing other users with settings permissions to read and modify it.
- Changing the settings object's permissions will have no effect, meaning the `dynatrace_settings_permissions` resource can't alter its access.

When a settings object is created using platform credentials:
- The owner is set to the owner of the OAuth client or platform token.
- By default, the settings object is private; only the owner can read and modify it.
- Access modifiers can be managed using the `dynatrace_settings_permissions` resource.

We recommend using platform credentials to ensure a correct setup.
In case an API token is needed, we recommend setting `DYNATRACE_HTTP_OAUTH_PREFERENCE=true`.

## Dynatrace Documentation

- Introduction to workflows - https://docs.dynatrace.com/docs/platform-modules/automations/workflows

- Settings API - https://www.dynatrace.com/support/help/dynatrace-api/environment-api/settings (schemaId: `app:dynatrace.kubernetes.connector:connection`)

## Export Example Usage

- `terraform-provider-dynatrace -export dynatrace_automation_workflow_k8s_connections` downloads existing Kubernetes Automation for Workflows configuration

The full documentation of the export feature is available [here](https://dt-url.net/h203qmc).

## Resource Example Usage

```terraform
resource "dynatrace_automation_workflow_k8s_connections" "#name#" {
  name      = "terraform1"
  uid       = "c6a3798e-634e-49fd-a3ca-00e5c16a1bf3"
  namespace = "terraform1"
  token     = "dt0e01.000000000000000000000000.0000000000000000000000000000000000000000000000000000000000000000"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the EdgeConnect deployment
- `namespace` (String) The namespace where EdgeConnect is deployed
- `token` (String, Sensitive) Token
- `uid` (String) A pseudo-ID for the cluster, set to the UID of the kube-system namespace

### Optional

- `insert_after` (String, Deprecated) Because this resource allows for ordering you may specify the ID of the resource instance that comes before this instance regarding order. If not specified when creating the setting will be added to the end of the list. If not specified during update the order will remain untouched

### Read-Only

- `id` (String) The ID of this resource.
