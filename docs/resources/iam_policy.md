---
layout: ""
page_title: "dynatrace_iam_policy Resource - terraform-provider-dynatrace"
subcategory: "IAM"
description: |-
  The resource `dynatrace_iam_policy` covers policy configuration via Account Management API for SaaS Accounts
---

# dynatrace_iam_policy (Resource)

-> **Dynatrace SaaS only**

-> To utilize this resource, please define the environment variables `DT_CLIENT_ID`, `DT_CLIENT_SECRET`, `DT_ACCOUNT_ID` with an OAuth client including the following permissions: **Allow IAM policy configuration for environments** (`iam-policies-management`) and **View environments** (`account-env-read`).

-> This resource is excluded by default in the export utility, please explicitly specify the resource to retrieve existing configuration.

## Dynatrace Documentation

- Dynatrace IAM Policy Management - https://docs.dynatrace.com/docs/manage/identity-access-management/permission-management/manage-user-permissions-policies

- Settings API - https://www.dynatrace.com/support/help/how-to-use-dynatrace/user-management-and-sso/manage-groups-and-permissions/iam/iam-getting-started

## Resource Example Usage

```terraform
resource "dynatrace_iam_policy" "policy" {
  name            = "my_policy_valid_for_environment_siz654##"
  environment     = "siz654##"
  statement_query = "ALLOW settings:objects:read, settings:schemas:read WHERE settings:schemaId = \"string\";"
}
```

```terraform
resource "dynatrace_iam_policy" "policy" {
  name            = "my_policy_valid_for_all_environments_in_this_account"
  account     = "########-####-####-####-############"
  statement_query = "ALLOW settings:objects:read, settings:schemas:read WHERE settings:schemaId = \"string\";"
}
```
<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the policy
- `statement_query` (String) The Statement Query of the policy

### Optional

- `account` (String) The UUID of the account (`urn:dtaccount:<account-uuid>`) in case the policy should be applied to all environments of this account. The prefix `urn:dtaccount:` MUST be omitted here.
- `description` (String) An optional description text for the policy
- `environment` (String, Deprecated) The ID of the environment (https://<environmentid>.live.dynatrace.com) if the policy should be applied to a specific environment
- `tags` (Set of String) Tags for this policy

### Read-Only

- `id` (String) The ID of this resource.
- `uuid` (String) The ID of this resource is a concatenation of multiple pieces of information (policy UUID, accountID, environmentID, ...). There are use cases where you JUST need the UUID of the Policy, though
