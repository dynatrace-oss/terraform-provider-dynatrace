---
layout: ""
page_title:  Resource - terraform-provider-dynatrace"
subcategory: "Service Detection"
description: |-
  The resource `dynatrace_service_splitting` covers configuration for service splitting
---

# dynatrace_service_splitting (Resource)

-> This resource requires the API token scopes **Read settings** (`settings.read`) and **Write settings** (`settings.write`)

## Dynatrace Documentation

- Services - https://docs.dynatrace.com/docs/observe/applications-and-microservices/services

- Settings API - https://www.dynatrace.com/support/help/dynatrace-api/environment-api/settings (schemaId: `builtin:service-splitting-rules`)

## Resource Example Usage

```terraform
resource "dynatrace_service_splitting" "#name#" {
  enabled = false
  scope   = "environment"
  rule {
    description = "Example description"
    condition   = "matchesValue(k8s.cluster.name, \"terraform\")"
    rule_name   = "#name#"
    service_splitting_attributes {
      service_splitting_attribute {
        key = "Attribute-1"
      }
      service_splitting_attribute {
        key = "Attribute-2"
      }
      service_splitting_attribute {
        key = "Attribute-3"
      }
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `enabled` (Boolean) This setting is enabled (`true`) or disabled (`false`)
- `rule` (Block List, Min: 1, Max: 1) Rule (see [below for nested schema](#nestedblock--rule))

### Optional

- `insert_after` (String) Because this resource allows for ordering you may specify the ID of the resource instance that comes before this instance regarding order. If not specified when creating the setting will be added to the end of the list. If not specified during update the order will remain untouched
- `scope` (String) The scope of this setting (CLOUD_APPLICATION_NAMESPACE, KUBERNETES_CLUSTER, HOST_GROUP). Omit this property if you want to cover the whole environment.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--rule"></a>
### Nested Schema for `rule`

Required:

- `rule_name` (String) Rule name

Optional:

- `condition` (String) Limits the scope of the service splitting rule using [DQL matcher](https://dt-url.net/l603wby) conditions on resource attributes..  A rule is applied only if the condition matches, otherwise the ruleset evaluation continues.

If empty, the condition will always match.
- `description` (String) no documentation available
- `service_splitting_attributes` (Block List, Max: 1) Define the entire set of resource attributes that should split your services in the matching scope.. Each attribute that exists will contribute to the final service ID. (see [below for nested schema](#nestedblock--rule--service_splitting_attributes))

<a id="nestedblock--rule--service_splitting_attributes"></a>
### Nested Schema for `rule.service_splitting_attributes`

Required:

- `service_splitting_attribute` (Block Set, Min: 1) (see [below for nested schema](#nestedblock--rule--service_splitting_attributes--service_splitting_attribute))

<a id="nestedblock--rule--service_splitting_attributes--service_splitting_attribute"></a>
### Nested Schema for `rule.service_splitting_attributes.service_splitting_attribute`

Required:

- `key` (String) Attribute key
