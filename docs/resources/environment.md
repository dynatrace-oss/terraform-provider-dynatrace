---
layout: ""
page_title: dynatrace_environment Resource - terraform-provider-dynatrace"
subcategory: "Cluster Management"
description: |-
  The resource `dynatrace_environment` covers configuration for environments
---

# dynatrace_environment (Resource)

-> This resource requires the cluster API token scope **Service Provider API** (`ServiceProviderAPI`)

## Dynatrace Documentation

- Manage your monitoring environments - https://docs.dynatrace.com/managed/managed-cluster/operation/manage-your-monitoring-environments

- Cluster API v2 - Environments - https://www.dynatrace.com/support/help/shortlink/cluster-api#environments

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The display name of the environment
- `state` (String) Indicates whether the environment is enabled or disabled. Possible values are `ENABLED` and `DISABLED`. The default value is ENABLED
- `storage` (Block List, Min: 1, Max: 1) Environment level storage usage and limit information (see [below for nested schema](#nestedblock--storage))

### Optional

- `quotas` (Block List, Max: 1) Environment level consumption and quotas information (see [below for nested schema](#nestedblock--quotas))
- `tags` (Set of String) A set of tags that are assigned to this environment. Every tag can have a maximum length of 100 characters
- `trial` (Boolean) Specifies whether the environment is a trial environment or a non-trial environment. Creating a trial environment is only possible if your license allows that. The default value is false (non-trial)

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--storage"></a>
### Nested Schema for `storage`

Required:

- `transactions` (Number) Maximum number of newly monitored entry point PurePaths captured per process/minute on environment level. Can be set to any value from 100 to 100000

Optional:

- `limits` (Block List, Max: 1) (see [below for nested schema](#nestedblock--storage--limits))
- `retention` (Block List, Max: 1) (see [below for nested schema](#nestedblock--storage--retention))
- `user_actions` (Number) Maximum number of user actions generated per minute on environment level. Can be set to any value from 1 to 2147483646 or left unlimited by omitting this property

<a id="nestedblock--storage--limits"></a>
### Nested Schema for `storage.limits`

Optional:

- `logs` (Number) Log monitoring storage usage and limit information on environment level in bytes. Not editable when Log monitoring is not allowed by license or not configured on cluster level. 0 for unlimited.
- `session_replay` (Number) Session replay storage usage and limit information on environment level in bytes. 0 for unlimited.
- `symbol_files` (Number) Session replay storage usage and limit information on environment level in bytes. 0 for unlimited.
- `transactions` (Number) Transaction storage usage and limit information on environment level in bytes. 0 for unlimited.


<a id="nestedblock--storage--retention"></a>
### Nested Schema for `storage.retention`

Required:

- `rum` (Number) Real user monitoring retention settings on environment level in days. Can be set to any value from 1 to 35 days
- `service_code_level` (Number) Service code level retention settings on environment level in days. Service code level retention time can't be greater than service request level retention time and both can't exceed one year
- `service_request_level` (Number) Service request level retention settings on environment level in days. Service code level retention time can't be greater than service request level retention time and both can't exceed one year
- `session_replay` (Number) Session replay retention settings on environment level in days. Can be set to any value from 1 to 35 days
- `synthetic` (Number) Synthetic monitoring retention settings on environment level in days. Can be set to any value from 1 to 35 days

Optional:

- `logs` (Number) Log monitoring retention settings on environment level in days. Not editable when Log monitoring is not allowed by license or not configured on cluster level. Can be set to any value from 5 to 90 days



<a id="nestedblock--quotas"></a>
### Nested Schema for `quotas`

Optional:

- `ddus` (Block List, Max: 1) Davis Data Units consumption and quota information on environment level. Not set (and not editable) if Davis data units is not enabled (see [below for nested schema](#nestedblock--quotas--ddus))
- `dem_units` (Block List, Max: 1) DEM units consumption and quota information on environment level (see [below for nested schema](#nestedblock--quotas--dem_units))
- `host_units` (Number) Host units consumption and quota information on environment level
- `logs` (Block List, Max: 1) Log Monitoring consumption and quota information on environment level. Not set (and not editable) if Log monitoring is not enabled. Not set (and not editable) if Log monitoring is migrated to Davis data on license level (see [below for nested schema](#nestedblock--quotas--logs))
- `synthetic` (Block List, Max: 1) Synthetic monitors consumption and quota information on environment level. Not set (and not editable) if neither Synthetic nor DEM units is enabled (see [below for nested schema](#nestedblock--quotas--synthetic))
- `user_sessions` (Block List, Max: 1) User sessions consumption and quota information on environment level (see [below for nested schema](#nestedblock--quotas--user_sessions))

<a id="nestedblock--quotas--ddus"></a>
### Nested Schema for `quotas.ddus`

Optional:

- `annual` (Number) Annual environment quota. Not set if unlimited
- `monthly` (Number) Monthly environment quota. Not set if unlimited


<a id="nestedblock--quotas--dem_units"></a>
### Nested Schema for `quotas.dem_units`

Optional:

- `annual` (Number) Annual environment quota. Not set if unlimited
- `monthly` (Number) Monthly environment quota. Not set if unlimited


<a id="nestedblock--quotas--logs"></a>
### Nested Schema for `quotas.logs`

Optional:

- `annual` (Number) Annual environment quota. Not set if unlimited
- `monthly` (Number) Monthly environment quota. Not set if unlimited


<a id="nestedblock--quotas--synthetic"></a>
### Nested Schema for `quotas.synthetic`

Optional:

- `annual` (Number) Annual environment quota. Not set if unlimited
- `monthly` (Number) Monthly environment quota. Not set if unlimited


<a id="nestedblock--quotas--user_sessions"></a>
### Nested Schema for `quotas.user_sessions`

Optional:

- `annual` (Number) Annual total User sessions environment quota. Not set if unlimited
- `monthly` (Number) Monthly total User sessions environment quota. Not set if unlimited
 