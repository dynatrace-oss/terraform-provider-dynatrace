---
layout: ""
page_title: dynatrace_maintenance Resource - terraform-provider-dynatrace"
subcategory: "Alerting"
description: |-
  The resource `dynatrace_maintenance` covers configuration for maintenance windows
---

# dynatrace_maintenance (Resource)

-> This resource requires the API token scopes **Read settings** (`settings.read`) and **Write settings** (`settings.write`)

## Dynatrace Documentation

- Maintenance windows - https://www.dynatrace.com/support/help/how-to-use-dynatrace/problem-detection-and-analysis/notifications-and-alerting/maintenance-windows

- Settings API - https://www.dynatrace.com/support/help/dynatrace-api/environment-api/settings (schemaId: `builtin:alerting.maintenance-window`)

## Export Example Usage

- `terraform-provider-dynatrace -export dynatrace_maintenance` downloads all existing maintenance window configuration

The full documentation of the export feature is available [here](https://dt-url.net/h203qmc).

## Resource Example Usage

```terraform
resource "dynatrace_maintenance" "#name#" {
  enabled = true 
  general_properties {
    name = "#name#" 
    description = "Terraform test execution" 
    type = "PLANNED" 
    disable_synthetic = true 
    suppression = "DETECT_PROBLEMS_AND_ALERT" 
  }
  schedule {
    type = "WEEKLY" 
    weekly_recurrence {
      day_of_week = "MONDAY" 
      recurrence_range {
        end_date = "2022-10-06" 
        start_date = "2022-10-05" 
      }
      time_window {
        end_time = "15:13:00" 
        start_time = "14:13:00" 
        time_zone = "UTC" 
      }
    }
  }
  filters {
    filter {
        entity_type = "HOST" 
        entity_tags = ["KeyTest:ValueTest"] 
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `enabled` (Boolean) This setting is enabled (`true`) or disabled (`false`)
- `general_properties` (Block List, Min: 1, Max: 1) The general properties of the maintenance window (see [below for nested schema](#nestedblock--general_properties))
- `schedule` (Block List, Min: 1, Max: 1) The schedule of the maintenance window (see [below for nested schema](#nestedblock--schedule))

### Optional

- `filters` (Block List, Max: 1) ## Filters
Add filters to limit the scope of maintenance to only select matching entities. If no filter is defined, the maintenance window is valid for the whole environment. Each filter is evaluated separately (**OR**). (see [below for nested schema](#nestedblock--filters))
- `legacy_id` (String) The ID of this setting when referred to by the Config REST API V1

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--general_properties"></a>
### Nested Schema for `general_properties`

Required:

- `disable_synthetic` (Boolean) Disables the execution of the synthetic monitors that are within [the scope of this maintenance window](https://dt-url.net/0e0341m).
- `name` (String) The name of the maintenance window, displayed in the UI
- `suppression` (String) The type of suppression of alerting and problem detection during the maintenance. Possible Values: `DETECT_PROBLEMS_AND_ALERT`, `DETECT_PROBLEMS_DONT_ALERT`, `DONT_DETECT_PROBLEMS`
- `type` (String) The type of the maintenance, possible values: `PLANNED` or `UNPLANNED`

Optional:

- `description` (String) A short description of the maintenance purpose.


<a id="nestedblock--schedule"></a>
### Nested Schema for `schedule`

Required:

- `type` (String) The type maintenance window, possible values: `DAILY`, `MONTHLY`, `ONCE`, `WEEKLY`

Optional:

- `daily_recurrence` (Block List, Max: 1) The configuration for maintenance windows occuring daily (see [below for nested schema](#nestedblock--schedule--daily_recurrence))
- `monthly_recurrence` (Block List, Max: 1) The configuration for maintenance windows occuring monthly (see [below for nested schema](#nestedblock--schedule--monthly_recurrence))
- `once_recurrence` (Block List, Max: 1) The configuration for maintenance windows occuring once (see [below for nested schema](#nestedblock--schedule--once_recurrence))
- `weekly_recurrence` (Block List, Max: 1) The configuration for maintenance windows occuring weekly (see [below for nested schema](#nestedblock--schedule--weekly_recurrence))

<a id="nestedblock--schedule--daily_recurrence"></a>
### Nested Schema for `schedule.daily_recurrence`

Required:

- `recurrence_range` (Block List, Min: 1, Max: 1) The recurrence date range of the maintenance window (see [below for nested schema](#nestedblock--schedule--daily_recurrence--recurrence_range))
- `time_window` (Block List, Min: 1, Max: 1) The time window of the maintenance window (see [below for nested schema](#nestedblock--schedule--daily_recurrence--time_window))

<a id="nestedblock--schedule--daily_recurrence--recurrence_range"></a>
### Nested Schema for `schedule.daily_recurrence.recurrence_range`

Required:

- `end_date` (String) The end date of the recurrence range in YYYY-MM-DD format
- `start_date` (String) The start date of the recurrence range in YYYY-MM-DD format


<a id="nestedblock--schedule--daily_recurrence--time_window"></a>
### Nested Schema for `schedule.daily_recurrence.time_window`

Required:

- `end_time` (String) The end time of the maintenance window validity period in hh:mm:ss format
- `start_time` (String) The start time of the maintenance window validity period in hh:mm:ss format
- `time_zone` (String) The time zone of the start and end time. Default time zone is UTC. You can use either UTC offset `UTC+01:00` format or the IANA Time Zone Database format (for example, `Europe/Vienna`)



<a id="nestedblock--schedule--monthly_recurrence"></a>
### Nested Schema for `schedule.monthly_recurrence`

Required:

- `day_of_month` (Number) The day of the month for monthly maintenance. If the selected day does not fall within the month, the maintenance window will be active on the last day of the month.
- `recurrence_range` (Block List, Min: 1, Max: 1) The recurrence date range of the maintenance window (see [below for nested schema](#nestedblock--schedule--monthly_recurrence--recurrence_range))
- `time_window` (Block List, Min: 1, Max: 1) The time window of the maintenance window (see [below for nested schema](#nestedblock--schedule--monthly_recurrence--time_window))

<a id="nestedblock--schedule--monthly_recurrence--recurrence_range"></a>
### Nested Schema for `schedule.monthly_recurrence.recurrence_range`

Required:

- `end_date` (String) The end date of the recurrence range in YYYY-MM-DD format
- `start_date` (String) The start date of the recurrence range in YYYY-MM-DD format


<a id="nestedblock--schedule--monthly_recurrence--time_window"></a>
### Nested Schema for `schedule.monthly_recurrence.time_window`

Required:

- `end_time` (String) The end time of the maintenance window validity period in hh:mm:ss format
- `start_time` (String) The start time of the maintenance window validity period in hh:mm:ss format
- `time_zone` (String) The time zone of the start and end time. Default time zone is UTC. You can use either UTC offset `UTC+01:00` format or the IANA Time Zone Database format (for example, `Europe/Vienna`)



<a id="nestedblock--schedule--once_recurrence"></a>
### Nested Schema for `schedule.once_recurrence`

Required:

- `end_time` (String) The end time of the maintenance window validity period in YYYY-MM-DDThh:mm:ss format (for example, `2022-01-01T08:00:00`)
- `start_time` (String) The start time of the maintenance window validity period in YYYY-MM-DDThh:mm:ss format (for example, `2022-01-01T08:00:00`)
- `time_zone` (String) The time zone of the start and end time. Default time zone is UTC. You can use either UTC offset `UTC+01:00` format or the IANA Time Zone Database format (for example, `Europe/Vienna`)


<a id="nestedblock--schedule--weekly_recurrence"></a>
### Nested Schema for `schedule.weekly_recurrence`

Required:

- `day_of_week` (String) The day of the week for weekly maintenance, possible values: `FRIDAY`, `MONDAY`, `SATURDAY`, `SUNDAY`, `THURSDAY`, `TUESDAY`, `WEDNESDAY`
- `recurrence_range` (Block List, Min: 1, Max: 1) The recurrence date range of the maintenance window (see [below for nested schema](#nestedblock--schedule--weekly_recurrence--recurrence_range))
- `time_window` (Block List, Min: 1, Max: 1) The time window of the maintenance window (see [below for nested schema](#nestedblock--schedule--weekly_recurrence--time_window))

<a id="nestedblock--schedule--weekly_recurrence--recurrence_range"></a>
### Nested Schema for `schedule.weekly_recurrence.recurrence_range`

Required:

- `end_date` (String) The end date of the recurrence range in YYYY-MM-DD format
- `start_date` (String) The start date of the recurrence range in YYYY-MM-DD format


<a id="nestedblock--schedule--weekly_recurrence--time_window"></a>
### Nested Schema for `schedule.weekly_recurrence.time_window`

Required:

- `end_time` (String) The end time of the maintenance window validity period in hh:mm:ss format
- `start_time` (String) The start time of the maintenance window validity period in hh:mm:ss format
- `time_zone` (String) The time zone of the start and end time. Default time zone is UTC. You can use either UTC offset `UTC+01:00` format or the IANA Time Zone Database format (for example, `Europe/Vienna`)




<a id="nestedblock--filters"></a>
### Nested Schema for `filters`

Required:

- `filter` (Block Set, Min: 1) (see [below for nested schema](#nestedblock--filters--filter))

<a id="nestedblock--filters--filter"></a>
### Nested Schema for `filters.filter`

Optional:

- `entity_id` (String) A specific entity that should match this maintenance window.. **Note**: If an entity type filter value is set, it must be equal to the type of the selected entity. Otherwise this maintenance window will not match.
- `entity_tags` (Set of String) Entities which contain all of the configured tags will match this maintenance window.
- `entity_type` (String) Type of entities this maintenance window should match.. If no entity type is selected all entities regardless of the type will match.
- `management_zones` (Set of String) Entities which are part of all the configured management zones will match this maintenance window.
 