---
layout: ""
page_title: dynatrace_disk_anomaly_rules Resource - terraform-provider-dynatrace"
subcategory: "Anomaly Detection"
description: |-
  The resource `dynatrace_disk_anomaly_rules` covers configuration for disk anomaly detection rules 
---

# dynatrace_disk_anomaly_rules (Resource)

-> This resource requires the API token scopes **Read settings** (`settings.read`) and **Write settings** (`settings.write`)

## Dynatrace Documentation

- Adjust the sensitivity of anomaly detection for infrastructure - https://www.dynatrace.com/support/help/how-to-use-dynatrace/problem-detection-and-analysis/problem-detection/adjust-sensitivity-anomaly-detection/adjust-sensitivity-infastructure

- Settings API - https://www.dynatrace.com/support/help/dynatrace-api/environment-api/settings (schemaId: `builtin:anomaly-detection.disk-rules`)

## Export Example Usage

- `terraform-provider-dynatrace -export dynatrace_disk_anomaly_rules` downloads all existing disk anomaly detection rules

The full documentation of the export feature is available [here](https://dt-url.net/h203qmc).

## Resource Example Usage

```terraform
resource "dynatrace_disk_anomaly_rules" "#name#" {
  name              = "#name#"
  enabled           = false
  host_group_id     = "HOST_GROUP-1234567890000000"
  metric            = "LOW_DISK_SPACE"
  threshold_percent = 10
  disk_name_filter {
    operator = "CONTAINS"
    value    = "#name#"
  }
  sample_limit {
    samples           = 3
    violating_samples = 3
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `disk_name_filter` (Block List, Min: 1, Max: 1) Only apply to disks whose name matches (see [below for nested schema](#nestedblock--disk_name_filter))
- `enabled` (Boolean) This setting is enabled (`true`) or disabled (`false`)
- `metric` (String) Possible Values: `LOW_DISK_SPACE`, `LOW_INODES`, `READ_TIME_EXCEEDING`, `WRITE_TIME_EXCEEDING`
- `name` (String) Name
- `sample_limit` (Block List, Min: 1, Max: 1) Only alert if the threshold was violated in at least *n* of the last *m* samples (see [below for nested schema](#nestedblock--sample_limit))

### Optional

- `host_group_id` (String) The scope of this settings. If the settings should cover the whole environment, just don't specify any scope.
- `tag_filters` (Set of String) Only apply to hosts that have the following tags
- `threshold_milliseconds` (Number) Alert if higher than
- `threshold_percent` (Number) Alert if lower than

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--disk_name_filter"></a>
### Nested Schema for `disk_name_filter`

Required:

- `operator` (String) Possible Values: `CONTAINS`, `DOES_NOT_CONTAIN`, `DOES_NOT_EQUAL`, `DOES_NOT_START_WITH`, `EQUALS`, `STARTS_WITH`

Optional:

- `value` (String) Matching text


<a id="nestedblock--sample_limit"></a>
### Nested Schema for `sample_limit`

Required:

- `samples` (Number) .. within the last
- `violating_samples` (Number) Minimum number of violating samples
 