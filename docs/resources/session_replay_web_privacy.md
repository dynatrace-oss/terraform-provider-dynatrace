---
layout: ""
page_title: dynatrace_session_replay_web_privacy Resource - terraform-provider-dynatrace"
subcategory: "Session Replay"
description: |-
  The resource `dynatrace_session_replay_web_privacy` covers configuration for Session Replay data privacy
---

# dynatrace_session_replay_web_privacy (Resource)

-> This resource requires the API token scopes **Read settings** (`settings.read`) and **Write settings** (`settings.write`)

## Dynatrace Documentation

- Configure Session Replay for web applications - https://www.dynatrace.com/support/help/platform-modules/digital-experience/session-replay/configure-session-replay-web

- Settings API - https://www.dynatrace.com/support/help/dynatrace-api/environment-api/settings (schemaId: `builtin:sessionreplay.web.privacy-preferences`)

## Export Example Usage

- `terraform-provider-dynatrace -export dynatrace_session_replay_web_privacy` downloads all existing Session Replay data privacy configuration

The full documentation of the export feature is available [here](https://dt-url.net/h203qmc).

## Resource Example Usage

```terraform
resource "dynatrace_session_replay_web_privacy" "#name#" {
  application_id             = "APPLICATION-1234567890000000"
  enable_opt_in_mode         = false
  url_exclusion_pattern_list = [ "www.google.com" ]
  masking_presets {
    playback_masking_preset  = "MASK_ALL"
    recording_masking_preset = "ALLOW_LIST"
    recording_masking_allow_list_rules {
      allow_list_rule {
        css_expression = "selector.example"
        target         = "ELEMENT"
      }
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `enable_opt_in_mode` (Boolean) (Field has overlap with `dynatrace_application_data_privacy`) When [Session Replay opt-in mode](https://dt-url.net/sr-opt-in-mode) is turned on, Session Replay is deactivated until explicitly activated via an API call.
- `masking_presets` (Block List, Min: 1, Max: 1) (Field has overlap with `dynatrace_application_data_privacy`) To protect your end users' privacy, select or customize [predefined masking options](https://dt-url.net/sr-masking-preset-options) that suit your content recording and playback requirements. (see [below for nested schema](#nestedblock--masking_presets))

### Optional

- `application_id` (String) The scope of this settings. If the settings should cover the whole environment, just don't specify any scope.
- `url_exclusion_pattern_list` (Set of String) (Field has overlap with `dynatrace_application_data_privacy`) Exclude webpages or views from Session Replay recording by adding [URL exclusion rules](https://dt-url.net/sr-url-exclusion)

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--masking_presets"></a>
### Nested Schema for `masking_presets`

Required:

- `playback_masking_preset` (String) (Field has overlap with `dynatrace_application_data_privacy`) Possible Values: `MASK_ALL`, `MASK_USER_INPUT`, `ALLOW_LIST`, `BLOCK_LIST`
- `recording_masking_preset` (String) (Field has overlap with `dynatrace_application_data_privacy`) Possible Values: `MASK_USER_INPUT`, `ALLOW_LIST`, `BLOCK_LIST`, `MASK_ALL`

Optional:

- `playback_masking_allow_list_rules` (Block List, Max: 1) (Field has overlap with `dynatrace_application_data_privacy`) The elements are defined by the CSS selector or attribute name. (see [below for nested schema](#nestedblock--masking_presets--playback_masking_allow_list_rules))
- `playback_masking_block_list_rules` (Block List, Max: 1) (Field has overlap with `dynatrace_application_data_privacy`) The elements are defined by the CSS selector or attribute name. (see [below for nested schema](#nestedblock--masking_presets--playback_masking_block_list_rules))
- `recording_masking_allow_list_rules` (Block List, Max: 1) (Field has overlap with `dynatrace_application_data_privacy`) The elements are defined by the CSS selector or attribute name. (see [below for nested schema](#nestedblock--masking_presets--recording_masking_allow_list_rules))
- `recording_masking_block_list_rules` (Block List, Max: 1) (Field has overlap with `dynatrace_application_data_privacy`) The elements are defined by the CSS selector or attribute name. (see [below for nested schema](#nestedblock--masking_presets--recording_masking_block_list_rules))

<a id="nestedblock--masking_presets--playback_masking_allow_list_rules"></a>
### Nested Schema for `masking_presets.playback_masking_allow_list_rules`

Required:

- `allow_list_rule` (Block List, Min: 1) (see [below for nested schema](#nestedblock--masking_presets--playback_masking_allow_list_rules--allow_list_rule))

<a id="nestedblock--masking_presets--playback_masking_allow_list_rules--allow_list_rule"></a>
### Nested Schema for `masking_presets.playback_masking_allow_list_rules.allow_list_rule`

Required:

- `target` (String) Possible Values: `ATTRIBUTE`, `ELEMENT`

Optional:

- `attribute_expression` (String) Attribute masking can be applied to web applications that store data within attributes, typically data-NAME attributes in HTML5. When you define attributes, their values are masked while recording but not removed.
- `css_expression` (String) Content masking can be applied to webpages where personal data is displayed. When content masking is applied to parent elements, all child elements are masked by default.



<a id="nestedblock--masking_presets--playback_masking_block_list_rules"></a>
### Nested Schema for `masking_presets.playback_masking_block_list_rules`

Required:

- `block_list_rule` (Block List, Min: 1) (see [below for nested schema](#nestedblock--masking_presets--playback_masking_block_list_rules--block_list_rule))

<a id="nestedblock--masking_presets--playback_masking_block_list_rules--block_list_rule"></a>
### Nested Schema for `masking_presets.playback_masking_block_list_rules.block_list_rule`

Required:

- `target` (String) Possible Values: `ELEMENT`, `ATTRIBUTE`

Optional:

- `attribute_expression` (String) Attribute masking can be applied to web applications that store data within attributes, typically data-NAME attributes in HTML5. When you define attributes, their values are masked while recording but not removed.
- `css_expression` (String) Content masking can be applied to webpages where personal data is displayed. When content masking is applied to parent elements, all child elements are masked by default.
- `hide_user_interaction` (Boolean) Hide user interactions with these elements, including clicks that expand elements, highlighting that results from hovering a cursor over an option, and selection of specific form options.



<a id="nestedblock--masking_presets--recording_masking_allow_list_rules"></a>
### Nested Schema for `masking_presets.recording_masking_allow_list_rules`

Required:

- `allow_list_rule` (Block List, Min: 1) (see [below for nested schema](#nestedblock--masking_presets--recording_masking_allow_list_rules--allow_list_rule))

<a id="nestedblock--masking_presets--recording_masking_allow_list_rules--allow_list_rule"></a>
### Nested Schema for `masking_presets.recording_masking_allow_list_rules.allow_list_rule`

Required:

- `target` (String) Possible Values: `ATTRIBUTE`, `ELEMENT`

Optional:

- `attribute_expression` (String) Attribute masking can be applied to web applications that store data within attributes, typically data-NAME attributes in HTML5. When you define attributes, their values are masked while recording but not removed.
- `css_expression` (String) Content masking can be applied to webpages where personal data is displayed. When content masking is applied to parent elements, all child elements are masked by default.



<a id="nestedblock--masking_presets--recording_masking_block_list_rules"></a>
### Nested Schema for `masking_presets.recording_masking_block_list_rules`

Required:

- `block_list_rule` (Block List, Min: 1) (see [below for nested schema](#nestedblock--masking_presets--recording_masking_block_list_rules--block_list_rule))

<a id="nestedblock--masking_presets--recording_masking_block_list_rules--block_list_rule"></a>
### Nested Schema for `masking_presets.recording_masking_block_list_rules.block_list_rule`

Required:

- `target` (String) Possible Values: `ELEMENT`, `ATTRIBUTE`

Optional:

- `attribute_expression` (String) Attribute masking can be applied to web applications that store data within attributes, typically data-NAME attributes in HTML5. When you define attributes, their values are masked while recording but not removed.
- `css_expression` (String) Content masking can be applied to webpages where personal data is displayed. When content masking is applied to parent elements, all child elements are masked by default.
- `hide_user_interaction` (Boolean) Hide user interactions with these elements, including clicks that expand elements, highlighting that results from hovering a cursor over an option, and selection of specific form options.
 