---
layout: ""
page_title: dynatrace_webhook_notification Resource - terraform-provider-dynatrace"
subcategory: "Notifications"
description: |-
  The resource `dynatrace_webhook_notification` covers configuration problem notifications sent via Web Hook
---

# dynatrace_webhook_notification (Resource)

-> This resource requires the API token scopes **Read settings** (`settings.read`) and **Write settings** (`settings.write`)

## Dynatrace Documentation

- Web Hook integration - https://www.dynatrace.com/support/help/setup-and-configuration/integrations/problem-notifications/webhook-integration

- Settings API - https://www.dynatrace.com/support/help/dynatrace-api/environment-api/settings (schemaId: `builtin:problem.notifications`)

## Export Example Usage

- `terraform-provider-dynatrace -export dynatrace_webhook_notification` downloads the existing problem notifications via Web Hook

The full documentation of the export feature is available [here](https://dt-url.net/h203qmc).

## Resource Example Usage

```terraform
resource "dynatrace_webhook_notification" "#name#" { # replace #name# with the name you would like your resource be known within your Terraform Module
  active                 = false
  name                   = "#name#" # replace #name# with the name you would like your entry to be displayed within the Dynatrace Web UI
  profile                = dynatrace_alerting.Default.id
  url                    = "https://webhook.site/#name#"
  insecure               = true
  notify_event_merges    = true
  notify_closed_problems = true
  payload                = "web-hook-payload"
  headers {
    header {
      name  = "http-header-name-01"
      value = "http-header-value-01"
    }
    header {
      name         = "http-header-name-02"
      secret_value = "http-header-value-02"
    }
    header {
      name         = "http-header-name-03"
      secret_value = "http-header-value-03"
    }
    header {
      name         = "http-header-name-04"
      secret_value = "http-header-value-04"
    }
    header {
      name         = "http-header-name-05"
      secret_value = "http-header-value-05"
    }
    header {
      name         = "http-header-name-06"
      secret_value = "http-header-value-06"
    }
  }
  use_oauth_2            = true
  oauth_2_credentials {
    access_token_url = "https://www.google.com"
    client_id        = "terraform"
    client_secret    = "#######"
  }
}

resource "dynatrace_alerting" "Default" {
  name = "#name#"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `active` (Boolean) The configuration is enabled (`true`) or disabled (`false`)
- `name` (String) The name of the notification configuration
- `payload` (String) The content of the notification message. You can use the following placeholders:  * `{ImpactedEntities}`: Details about the entities impacted by the problem in form of a JSON array.  * `{ImpactedEntity}`: The entity impacted by the problem or *X* impacted entities.  * `{PID}`: The ID of the reported problem.  * `{ProblemDetailsHTML}`: All problem event details, including root cause, as an HTML-formatted string.  * `{ProblemDetailsJSON}`: All problem event details, including root cause, as a JSON object.  * `{ProblemDetailsMarkdown}`: All problem event details, including root cause, as a [Markdown-formatted](https://www.markdownguide.org/cheat-sheet/) string.  * `{ProblemDetailsText}`: All problem event details, including root cause, as a text-formatted string.  * `{ProblemID}`: The display number of the reported problem.  * `{ProblemImpact}`: The [impact level](https://www.dynatrace.com/support/help/shortlink/impact-analysis) of the problem. Possible values are `APPLICATION`, `SERVICE`, and `INFRASTRUCTURE`.  * `{ProblemSeverity}`: The [severity level](https://www.dynatrace.com/support/help/shortlink/event-types) of the problem. Possible values are `AVAILABILITY`, `ERROR`, `PERFORMANCE`, `RESOURCE_CONTENTION`, and `CUSTOM_ALERT`.  * `{ProblemTitle}`: A short description of the problem.  * `{ProblemURL}`: The URL of the problem within Dynatrace.  * `{State}`: The state of the problem. Possible values are `OPEN` and `RESOLVED`.  * `{Tags}`: The list of tags that are defined for all impacted entities, separated by commas
- `profile` (String) The ID of the associated alerting profile

### Optional

- `headers` (Block List, Max: 1) A list of the additional HTTP headers (see [below for nested schema](#nestedblock--headers))
- `insecure` (Boolean) Accept any, including self-signed and invalid, SSL certificate (`true`) or only trusted (`false`) certificates
- `legacy_id` (String) The ID of these settings when referred to from resources requiring the REST API V1 keys
- `notify_closed_problems` (Boolean) Send email if problem is closed
- `notify_event_merges` (Boolean) Call webhook if new events merge into existing problems
- `oauth_2_credentials` (Block List, Max: 1) To authenticate your integration, the OAuth 2.0 *Client Credentials* Flow (Grant Type) is used. For details see [Client Credentials Flow](https://dt-url.net/ym22wsm)).

The obtained Access Token is subsequently provided in the *Authorization* header of the request carrying the notification payload. (see [below for nested schema](#nestedblock--oauth_2_credentials))
- `secret_url` (String, Sensitive) The secret URL of the webhook endpoint.
- `url` (String) The URL of the WebHook endpoint
- `url_contains_secret` (Boolean) Secret webhook URL
- `use_oauth_2` (Boolean) Use OAuth 2.0 for authentication

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--headers"></a>
### Nested Schema for `headers`

Required:

- `header` (Block Set, Min: 1) An additional HTTP Header to include when sending requests (see [below for nested schema](#nestedblock--headers--header))

<a id="nestedblock--headers--header"></a>
### Nested Schema for `headers.header`

Required:

- `name` (String) The name of the HTTP header

Optional:

- `secret_value` (String, Sensitive) The value of the HTTP header as a sensitive property. May contain an empty value. `secret_value` and `value` are mutually exclusive. Only one of those two is allowed to be specified.
- `value` (String) The value of the HTTP header. May contain an empty value. `secret_value` and `value` are mutually exclusive. Only one of those two is allowed to be specified.



<a id="nestedblock--oauth_2_credentials"></a>
### Nested Schema for `oauth_2_credentials`

Required:

- `access_token_url` (String) Access token URL
- `client_id` (String) Client ID
- `client_secret` (String, Sensitive) Client secret

Optional:

- `authenticate_via_request_header` (Boolean) If false, the client credentials are included in the HTTP request body.
- `scope` (String) The scope of access you are requesting
 