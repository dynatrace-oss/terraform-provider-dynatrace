---
layout: ""
page_title: "dynatrace_process_availability Resource - terraform-provider-dynatrace"
subcategory: "Process Monitoring"
description: |-
  The resource `dynatrace_process_availability` covers configuration to monitor key processes on a host
---

# dynatrace_process_availability (Resource)

-> This resource requires the API token scopes **Read settings** (`settings.read`) and **Write settings** (`settings.write`)

## Dynatrace Documentation

- Process Availability - https://www.dynatrace.com/support/help/how-to-use-dynatrace/infrastructure-monitoring/hosts/monitoring/process-availability

- Settings API - https://www.dynatrace.com/support/help/dynatrace-api/environment-api/settings (schemaId: `builtin:processavailability`)

## Export Example Usage

- `terraform-provider-dynatrace -export dynatrace_process_availability` downloads all existing process availability configuration

The full documentation of the export feature is available [here](https://registry.terraform.io/providers/dynatrace-oss/dynatrace/latest/docs/guides/export-v2).

## Resource Example Usage

```terraform
resource "dynatrace_process_availability" "#name#" {
  enabled = true
  name    = "#name#"
  rules {
    rule {
      property  = "executable"
      condition = "$contains(svc)"
    }
  }
  metadata {
    item {
      key   = "foo"
      value = "bar"
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `enabled` (Boolean) This setting is enabled (`true`) or disabled (`false`)
- `name` (String) Monitoring rule name

### Optional

- `insert_after` (String) Because this resource allows for ordering you may specify the ID of the resource instance that comes before this instance regarding order. If not specified when creating the setting will be added to the end of the list. If not specified during update the order will remain untouched
- `metadata` (Block List, Max: 1) Set of additional key-value properties to be attached to the triggered event. (see [below for nested schema](#nestedblock--metadata))
- `minimum_processes` (Number) Specify a minimum number of processes matching the monitoring rule. If it's not satisfied, an alert will open.
- `operating_system` (Set of String) Select the operating systems on which the monitoring rule should be applied.
- `rules` (Block List, Max: 1) Define process detection rules by selecting a process property and a condition. Each monitoring rule can have multiple detection rules associated with it. (see [below for nested schema](#nestedblock--rules))
- `scope` (String) The scope of this setting (HOST, HOST_GROUP). Omit this property if you want to cover the whole environment.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--metadata"></a>
### Nested Schema for `metadata`

Required:

- `item` (Block Set, Min: 1) (see [below for nested schema](#nestedblock--metadata--item))

<a id="nestedblock--metadata--item"></a>
### Nested Schema for `metadata.item`

Required:

- `key` (String) Type 'dt.' for key hints.
- `value` (String) no documentation available



<a id="nestedblock--rules"></a>
### Nested Schema for `rules`

Required:

- `rule` (Block List, Min: 1) (see [below for nested schema](#nestedblock--rules--rule))

<a id="nestedblock--rules--rule"></a>
### Nested Schema for `rules.rule`

Optional:

- `condition` (String) - $contains(svc) – Matches if svc appears anywhere in the process property value.
- $eq(svc.exe) – Matches if svc.exe matches the process property value exactly.
- $prefix(svc) – Matches if app matches the prefix of the process property value.
- $suffix(svc.py) – Matches if svc.py matches the suffix of the process property value.

For example, $suffix(svc.py) would detect processes named loyaltysvc.py and paymentssvc.py.

For more details, see [Process availability](https://dt-url.net/v923x37).
- `host_metadata_condition` (Block List, Max: 1) Host custom metadata refers to user-defined key-value pairs that you can assign to hosts monitored by Dynatrace.

By defining custom metadata, you can enrich the monitoring data with context specific to your organization's needs, such as environment names, team ownership, application versions, or any other relevant details.

See [Define tags and metadata for hosts](https://dt-url.net/w3hv0kbw). (see [below for nested schema](#nestedblock--rules--rule--host_metadata_condition))
- `property` (String) Possible Values: `CommandLine`, `Executable`, `ExecutablePath`, `User`
- `rule_type` (String) Possible Values: `RuleTypeHost`, `RuleTypeProcess`

<a id="nestedblock--rules--rule--host_metadata_condition"></a>
### Nested Schema for `rules.rule.host_metadata_condition`

Required:

- `metadata_condition` (String) This string has to match a required format.

- `$contains(production)` – Matches if `production` appears anywhere in the host metadata value.
- `$eq(production)` – Matches if `production` matches the host metadata value exactly.
- `$prefix(production)` – Matches if `production` matches the prefix of the host metadata value.
- `$suffix(production)` – Matches if `production` matches the suffix of the host metadata value.

Available logic operations:
- `$not($eq(production))` – Matches if the host metadata value is different from `production`.
- `$and($prefix(production),$suffix(main))` – Matches if host metadata value starts with `production` and ends with `main`.
- `$or($prefix(production),$suffix(main))` – Matches if host metadata value starts with `production` or ends with `main`.

Brackets **(** and **)** that are part of the matched property **must be escaped with a tilde (~)**
- `metadata_key` (String) Key
 