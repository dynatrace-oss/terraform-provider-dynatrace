---
layout: ""
page_title: dynatrace_http_monitor_script Resource - terraform-provider-dynatrace"
subcategory: "HTTP Monitors"
description: |-
  The resource `dynatrace_http_monitor_script` covers configuration for HTTP monitor scripts
---

# dynatrace_http_monitor_script (Resource)

-> This resource allows you to manage the script of your HTTP monitor separately from the `dynatrace_http_monitor` resource. To utilize this resource, please omit the `script` block and set `no_script=true` in your `dynatrace_http_monitor` resource.

-> This resource requires the API token scope **Create and read synthetic monitors, locations, and nodes** (`ExternalSyntheticIntegration`)

## Dynatrace Documentation

- Synthetic Monitoring - HTTP monitors - https://www.dynatrace.com/support/help/shortlink/synthetic-hub#http-monitors

- Synthetic Monitors API - https://www.dynatrace.com/support/help/dynatrace-api/environment-api/synthetic/synthetic-monitors

## Export Example Usage

- `terraform-provider-dynatrace -export dynatrace_http_monitor_script` downloads all existing HTTP monitor script configuration

The full documentation of the export feature is available [here](https://registry.terraform.io/providers/dynatrace-oss/dynatrace/latest/docs/guides/export-v2).

## Resource Example Usage

```terraform
resource "dynatrace_http_monitor_script" "#name#" {
  http_id = "${dynatrace_http_monitor.monitor.id}"
  script {
    request {
      description     = "request1"
      method          = "GET"
      url             = "http://httpstat.us/200"
      configuration {
        accept_any_certificate = true
      }
    }
    request {
      description     = "request2"
      method          = "GET"
      url             = "http://httpstat.us/400"
      configuration {
        accept_any_certificate = true
      }
    }
  }
}

resource "dynatrace_http_monitor" "monitor" {
  name      = "#name#"
  frequency = 1
  locations = ["GEOLOCATION-F3E06A526BE3B4C4"]
  anomaly_detection {
    loading_time_thresholds {
    }
    outage_handling {
      global_outage = true
      global_outage_policy {
        consecutive_runs = 1
      }
    }
  }
  no_script = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `http_id` (String) The ID of the HTTP monitor
- `script` (Block List, Min: 1, Max: 1) The HTTP Script (see [below for nested schema](#nestedblock--script))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--script"></a>
### Nested Schema for `script`

Required:

- `request` (Block List, Min: 1) A HTTP request to be performed by the monitor. (see [below for nested schema](#nestedblock--script--request))

<a id="nestedblock--script--request"></a>
### Nested Schema for `script.request`

Required:

- `method` (String) The HTTP method of the request.
- `url` (String) The URL to check.

Optional:

- `authentication` (Block List, Max: 1) Authentication options for this request (see [below for nested schema](#nestedblock--script--request--authentication))
- `body` (String) The body of the HTTP request.
- `configuration` (Block List, Max: 1) The setup of the monitor (see [below for nested schema](#nestedblock--script--request--configuration))
- `description` (String) A short description of the event to appear in the web UI.
- `post_processing` (String) Javascript code to execute after sending the request.
- `pre_processing` (String) Javascript code to execute before sending the request.
- `request_timeout` (Number) Adapt request timeout option - the maximum time this request is allowed to consume. Keep in mind the maximum timeout of the complete monitor is 60 seconds
- `validation` (Block List, Max: 1) Validation helps you verify that your HTTP monitor loads the expected content (see [below for nested schema](#nestedblock--script--request--validation))

<a id="nestedblock--script--request--authentication"></a>
### Nested Schema for `script.request.authentication`

Required:

- `credentials` (String) The ID of the credentials within the Dynatrace Credentials Vault.
- `type` (String) The type of authentication. Possible values are `BASIC_AUTHENTICATION`, `NTLM` and `KERBEROS`.

Optional:

- `kdc_ip` (String) The KDC IP. Valid and required only if the type of authentication is `KERBEROS`.
- `realm_name` (String) The Realm Name. Valid and required only if the type of authentication is `KERBEROS`.


<a id="nestedblock--script--request--configuration"></a>
### Nested Schema for `script.request.configuration`

Optional:

- `accept_any_certificate` (Boolean) If set to `false`, then the monitor fails with invalid SSL certificates.

If not set, the `false` option is used
- `client_certificate` (String, Sensitive) The client certificate, if applicable - eg. CREDENTIALS_VAULT-XXXXXXXXXXXXXXXX
- `follow_redirects` (Boolean) If set to `false`, redirects are reported as successful requests with response code 3xx.

If not set, the `false` option is used.
- `headers` (Block List, Max: 1) The setup of the monitor (see [below for nested schema](#nestedblock--script--request--configuration--headers))
- `sensitive_data` (Boolean) Option not to store and display request and response bodies and header values in execution details, `true` or `false`. If not set, `false`.
- `user_agent` (String) The User agent of the request

<a id="nestedblock--script--request--configuration--headers"></a>
### Nested Schema for `script.request.configuration.headers`

Required:

- `header` (Block Set, Min: 1) contains an HTTP header of the request (see [below for nested schema](#nestedblock--script--request--configuration--headers--header))

<a id="nestedblock--script--request--configuration--headers--header"></a>
### Nested Schema for `script.request.configuration.headers.header`

Required:

- `name` (String) The key of the header
- `value` (String) The value of the header




<a id="nestedblock--script--request--validation"></a>
### Nested Schema for `script.request.validation`

Required:

- `rule` (Block List, Min: 1) A list of validation rules (see [below for nested schema](#nestedblock--script--request--validation--rule))

<a id="nestedblock--script--request--validation--rule"></a>
### Nested Schema for `script.request.validation.rule`

Required:

- `type` (String) The type of the rule. Possible values are `patternConstraint`, `regexConstraint`, `httpStatusesList` and `certificateExpiryDateConstraint`
- `value` (String) The content to look for

Optional:

- `pass_if_found` (Boolean) The validation condition. `true` means validation succeeds if the specified content/element is found. `false` means validation fails if the specified content/element is found. Always specify `false` for `certificateExpiryDateConstraint` to fail the monitor if SSL certificate expiry is within the specified number of days
 