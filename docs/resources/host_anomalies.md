---
layout: ""
page_title: dynatrace_host_anomalies Resource - terraform-provider-dynatrace"
description: |-
  The resource `dynatrace_host_anomalies` covers configuration for host anomaly detection
---

# dynatrace_host_anomalies (Resource)

## Dynatrace Documentation

- Adjust the sensitivity of anomaly detection for infrastructure - https://www.dynatrace.com/support/help/how-to-use-dynatrace/problem-detection-and-analysis/problem-detection/adjust-sensitivity-anomaly-detection/adjust-sensitivity-infastructure

- Anomaly detection API - Hosts - https://www.dynatrace.com/support/help/dynatrace-api/configuration-api/anomaly-detection-api/anomaly-detection-api-hosts

## Export Example Usage

- `terraform-provider-dynatrace export dynatrace_host_anomalies` downloads all existing host anomaly detection configuration

The full documentation of the export feature is available [here](https://registry.terraform.io/providers/dynatrace-oss/dynatrace/latest/docs#exporting-existing-configuration-from-a-dynatrace-environment).

## Resource Example Usage

```terraform
resource "dynatrace_host_anomalies" "#name#" {
  connections {
    enabled                       = true
    enabled_on_graceful_shutdowns = false
  }
  cpu {
    enabled = true
  }
  disks {
    inodes {
      enabled = true
    }
    space {
      enabled = true
    }
    speed {
      enabled = true
    }
  }
  gc {
    enabled = true
  }
  java {
    out_of_memory {
      enabled = true
    }
    out_of_threads {
      enabled = true
    }
  }
  memory {
    enabled = true
    thresholds {
      linux {
        page_faults = 20
        usage       = 80
      }
      windows {
        page_faults = 100
        usage       = 80
      }
    }
  }
  network {
    connectivity {
      enabled = true
    }
    dropped_packets {
      enabled = true
    }
    errors {
      enabled = true
    }
    retransmission {
      enabled = true
    }
    utilization {
      enabled = true
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `connections` (Block List, Max: 1) Configuration of lost connection detection (see [below for nested schema](#nestedblock--connections))
- `cpu` (Block List, Max: 1) Configuration of high CPU saturation detection (see [below for nested schema](#nestedblock--cpu))
- `disks` (Block List, Max: 1) Configuration of disk related anomalies (see [below for nested schema](#nestedblock--disks))
- `gc` (Block List, Max: 1) Configuration of high Garbage Collector activity detection (see [below for nested schema](#nestedblock--gc))
- `java` (Block List, Max: 1) Configuration of Java related anomalies (see [below for nested schema](#nestedblock--java))
- `memory` (Block List, Max: 1) Configuration of high memory usage detection (see [below for nested schema](#nestedblock--memory))
- `network` (Block List, Max: 1) Configuration of network related anomalies (see [below for nested schema](#nestedblock--network))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--connections"></a>
### Nested Schema for `connections`

Required:

- `enabled` (Boolean) The detection is enabled (`true`) or disabled (`false`)
- `enabled_on_graceful_shutdowns` (Boolean) Alert (`true`) on graceful host shutdowns


<a id="nestedblock--cpu"></a>
### Nested Schema for `cpu`

Required:

- `enabled` (Boolean) The detection is enabled (`true`) or disabled (`false`)

Optional:

- `thresholds` (Block List, Max: 1) Custom thresholds for high CPU saturation. If not set then the automatic mode is used (see [below for nested schema](#nestedblock--cpu--thresholds))

<a id="nestedblock--cpu--thresholds"></a>
### Nested Schema for `cpu.thresholds`

Required:

- `saturation` (Number) Alert if CPU usage is higher than *X*% in 3 out of 5 samples



<a id="nestedblock--disks"></a>
### Nested Schema for `disks`

Optional:

- `inodes` (Block List, Max: 1) Configuration of low disk inodes number detection (see [below for nested schema](#nestedblock--disks--inodes))
- `space` (Block List, Max: 1) Configuration of low disk space detection (see [below for nested schema](#nestedblock--disks--space))
- `speed` (Block List, Max: 1) Configuration of slow running disks detection (see [below for nested schema](#nestedblock--disks--speed))

<a id="nestedblock--disks--inodes"></a>
### Nested Schema for `disks.inodes`

Required:

- `enabled` (Boolean) The detection is enabled (`true`) or disabled (`false`)

Optional:

- `thresholds` (Block List, Max: 1) Custom thresholds for low disk inodes number. If not set, automatic mode is used (see [below for nested schema](#nestedblock--disks--inodes--thresholds))

<a id="nestedblock--disks--inodes--thresholds"></a>
### Nested Schema for `disks.inodes.thresholds`

Required:

- `percentage` (Number) Alert if percentage of available inodes is lower than *X*% in 3 out of 5 samples



<a id="nestedblock--disks--space"></a>
### Nested Schema for `disks.space`

Required:

- `enabled` (Boolean) The detection is enabled (`true`) or disabled (`false`)

Optional:

- `thresholds` (Block List, Max: 1) Custom thresholds for low disk space. If not set, automatic mode is used (see [below for nested schema](#nestedblock--disks--space--thresholds))

<a id="nestedblock--disks--space--thresholds"></a>
### Nested Schema for `disks.space.thresholds`

Required:

- `percentage` (Number) Alert if free disk space is lower than *X*% in 3 out of 5 samples



<a id="nestedblock--disks--speed"></a>
### Nested Schema for `disks.speed`

Required:

- `enabled` (Boolean) The detection is enabled (`true`) or disabled (`false`)

Optional:

- `thresholds` (Block List, Max: 1) Custom thresholds for slow running disks. If not set, the automatic mode is used (see [below for nested schema](#nestedblock--disks--speed--thresholds))

<a id="nestedblock--disks--speed--thresholds"></a>
### Nested Schema for `disks.speed.thresholds`

Required:

- `write_and_read_time` (Number) Alert if disk read/write time is higher than *X* milliseconds in 3 out of 5 samples




<a id="nestedblock--gc"></a>
### Nested Schema for `gc`

Required:

- `enabled` (Boolean) The detection is enabled (`true`) or disabled (`false`)

Optional:

- `thresholds` (Block List, Max: 1) Custom thresholds for high GC activity. If not set, automatic mode is used.   Meeting **any** of these conditions triggers an alert (see [below for nested schema](#nestedblock--gc--thresholds))

<a id="nestedblock--gc--thresholds"></a>
### Nested Schema for `gc.thresholds`

Required:

- `suspension_percentage` (Number) GC suspension is higher than *X*% in 3 out of 5 samples
- `time_percentage` (Number) GC time is higher than *X*% in 3 out of 5 samples



<a id="nestedblock--java"></a>
### Nested Schema for `java`

Optional:

- `out_of_memory` (Block List, Max: 1) Configuration of Java out of memory problems detection (see [below for nested schema](#nestedblock--java--out_of_memory))
- `out_of_threads` (Block List, Max: 1) Configuration of Java out of threads problems detection (see [below for nested schema](#nestedblock--java--out_of_threads))

<a id="nestedblock--java--out_of_memory"></a>
### Nested Schema for `java.out_of_memory`

Required:

- `enabled` (Boolean) The detection is enabled (`true`) or disabled (`false`)

Optional:

- `thresholds` (Block List, Max: 1) Custom thresholds for Java out of memory. If not set, automatic mode is used (see [below for nested schema](#nestedblock--java--out_of_memory--thresholds))

<a id="nestedblock--java--out_of_memory--thresholds"></a>
### Nested Schema for `java.out_of_memory.thresholds`

Required:

- `exception_count` (Number) Alert if the number of Java out of memory exceptions is *X* per minute or higher



<a id="nestedblock--java--out_of_threads"></a>
### Nested Schema for `java.out_of_threads`

Required:

- `enabled` (Boolean) The detection is enabled (`true`) or disabled (`false`)

Optional:

- `thresholds` (Block List, Max: 1) Custom thresholds for Java out of threads detection. If not set, automatic mode is used (see [below for nested schema](#nestedblock--java--out_of_threads--thresholds))

<a id="nestedblock--java--out_of_threads--thresholds"></a>
### Nested Schema for `java.out_of_threads.thresholds`

Required:

- `exception_count` (Number) Alert if the number of Java out of threads exceptions is *X* per minute or higher




<a id="nestedblock--memory"></a>
### Nested Schema for `memory`

Required:

- `enabled` (Boolean) The detection is enabled (`true`) or disabled (`false`)

Optional:

- `thresholds` (Block List, Max: 1) Custom thresholds for high memory usage. If not set then the automatic mode is used. **Both** conditions must be met to trigger an alert (see [below for nested schema](#nestedblock--memory--thresholds))

<a id="nestedblock--memory--thresholds"></a>
### Nested Schema for `memory.thresholds`

Required:

- `linux` (Block List, Min: 1, Max: 1) Custom thresholds for Linux (see [below for nested schema](#nestedblock--memory--thresholds--linux))
- `windows` (Block List, Min: 1, Max: 1) Custom thresholds for Windows (see [below for nested schema](#nestedblock--memory--thresholds--windows))

<a id="nestedblock--memory--thresholds--linux"></a>
### Nested Schema for `memory.thresholds.linux`

Required:

- `page_faults` (Number) Memory page fault rate is higher than *X* faults per second
- `usage` (Number) Memory usage is higher than *X*%


<a id="nestedblock--memory--thresholds--windows"></a>
### Nested Schema for `memory.thresholds.windows`

Required:

- `page_faults` (Number) Memory page fault rate is higher than *X* faults per second
- `usage` (Number) Memory usage is higher than *X*%




<a id="nestedblock--network"></a>
### Nested Schema for `network`

Optional:

- `connectivity` (Block List, Max: 1) Configuration of TCP connectivity problems detection (see [below for nested schema](#nestedblock--network--connectivity))
- `dropped_packets` (Block List, Max: 1) Configuration of high number of dropped packets detection (see [below for nested schema](#nestedblock--network--dropped_packets))
- `errors` (Block List, Max: 1) Configuration of high number of network errors detection (see [below for nested schema](#nestedblock--network--errors))
- `retransmission` (Block List, Max: 1) Configuration of high retransmission rate detection (see [below for nested schema](#nestedblock--network--retransmission))
- `utilization` (Block List, Max: 1) Configuration of high network utilization detection (see [below for nested schema](#nestedblock--network--utilization))

<a id="nestedblock--network--connectivity"></a>
### Nested Schema for `network.connectivity`

Required:

- `enabled` (Boolean) The detection is enabled (`true`) or disabled (`false`)

Optional:

- `thresholds` (Block List, Max: 1) Custom thresholds for TCP connection problems. If not set, automatic mode is used.   **All** of these conditions must be met to trigger an alert (see [below for nested schema](#nestedblock--network--connectivity--thresholds))

<a id="nestedblock--network--connectivity--thresholds"></a>
### Nested Schema for `network.connectivity.thresholds`

Required:

- `failed_connections` (Number) Number of failed connections is higher than *X* connections per minute in 3 out of 5 samples
- `new_connection_failures` (Number) Percentage of new connection failures is higher than *X*% in 3 out of 5 samples



<a id="nestedblock--network--dropped_packets"></a>
### Nested Schema for `network.dropped_packets`

Required:

- `enabled` (Boolean) The detection is enabled (`true`) or disabled (`false`)

Optional:

- `thresholds` (Block List, Max: 1) Custom thresholds for dropped packets. If not set, automatic mode is used.   **All** of these conditions must be met to trigger an alert (see [below for nested schema](#nestedblock--network--dropped_packets--thresholds))

<a id="nestedblock--network--dropped_packets--thresholds"></a>
### Nested Schema for `network.dropped_packets.thresholds`

Required:

- `dropped_packets` (Number) Receive/transmit dropped packet percentage is higher than *X*% in 3 out of 5 samples
- `total_packets_rate` (Number) Total receive/transmit packets rate is higher than *X* packets per second in 3 out of 5 samples



<a id="nestedblock--network--errors"></a>
### Nested Schema for `network.errors`

Required:

- `enabled` (Boolean) The detection is enabled (`true`) or disabled (`false`)

Optional:

- `thresholds` (Block List, Max: 1) Custom thresholds for network errors. If not set, automatic mode is used.   **All** of these conditions must be met to trigger an alert (see [below for nested schema](#nestedblock--network--errors--thresholds))

<a id="nestedblock--network--errors--thresholds"></a>
### Nested Schema for `network.errors.thresholds`

Required:

- `errors_percentage` (Number) Receive/transmit error packet percentage is higher than *X*% in 3 out of 5 samples
- `total_packets_rate` (Number) Total receive/transmit packets rate is higher than *X* packets per second in 3 out of 5 samples



<a id="nestedblock--network--retransmission"></a>
### Nested Schema for `network.retransmission`

Required:

- `enabled` (Boolean) The detection is enabled (`true`) or disabled (`false`)

Optional:

- `thresholds` (Block List, Max: 1) Custom thresholds for high retransmission rate. If not set, automatic mode is used.   **All** of these conditions must be met to trigger an alert (see [below for nested schema](#nestedblock--network--retransmission--thresholds))

<a id="nestedblock--network--retransmission--thresholds"></a>
### Nested Schema for `network.retransmission.thresholds`

Required:

- `retransmission_rate` (Number) Retransmission rate is higher than *X*% in 3 out of 5 samples
- `retransmitted_packets` (Number) Number of retransmitted packets is higher than *X* packets per minute in 3 out of 5 samples



<a id="nestedblock--network--utilization"></a>
### Nested Schema for `network.utilization`

Required:

- `enabled` (Boolean) The detection is enabled (`true`) or disabled (`false`)

Optional:

- `thresholds` (Block List, Max: 1) Custom thresholds for high network utilization. If not set, automatic mode is used (see [below for nested schema](#nestedblock--network--utilization--thresholds))

<a id="nestedblock--network--utilization--thresholds"></a>
### Nested Schema for `network.utilization.thresholds`

Required:

- `utilization` (Number) Alert if sent/received traffic utilization is higher than *X*% in 3 out of 5 samples
 