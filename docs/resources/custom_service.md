---
layout: ""
page_title: dynatrace_custom_service Resource - terraform-provider-dynatrace"
subcategory: "Service Detection"
description: |-
  The resource `dynatrace_custom_service` covers configuration for custom services
---

# dynatrace_custom_service (Resource)

-> This resource requires the API token scopes **Read configuration** (`ReadConfig`) and **Write configuration** (`WriteConfig`)

## Dynatrace Documentation

- Define custom services - https://www.dynatrace.com/support/help/how-to-use-dynatrace/services/custom-services

- Custom services API - https://www.dynatrace.com/support/help/dynatrace-api/configuration-api/service-api/custom-services-api

## Export Example Usage

- `terraform-provider-dynatrace -export dynatrace_custom_service` downloads all existing custom service configuration

The full documentation of the export feature is available [here](https://dt-url.net/h203qmc).

## Resource Example Usage

```terraform
resource "dynatrace_custom_service" "#name#" {
        name = "#name#"
        technology = "java"
        enabled = true
        rule {
                enabled = true
                class {
                    name = "com.example.Prefix"
                    match = "EQUALS"
                }
                method {
                        name = "methodA"
                        arguments = [ "java.lang.String", "java.lang.String" ]
                        returns = "java.lang.String"
                }
                method {
                        name = "methodB"
                        returns = "void"
                }
                annotations = [ "com.example.ExampleAnnotation" ]
        }
        rule {
                enabled = true
                class {
                    name = "com.example.Suffix"
                    match = "ENDS_WITH"
                }
                method {
                        name = "methodC"
                        arguments = [ "java.lang.String", "java.lang.String" ]
                        returns = "java.lang.String"
                }
                method {
                        name = "methodD"
                        returns = "void"
                }
        }
        queue_entry_point = false
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `enabled` (Boolean) Custom service enabled/disabled
- `name` (String) The name of the custom service, displayed in the UI
- `technology` (String) Matcher applying to the file name (ENDS_WITH, EQUALS or STARTS_WITH). Default value is ENDS_WITH (if applicable)

### Optional

- `process_groups` (Set of String) The list of process groups the custom service should belong to
- `queue_entry_point` (Boolean) The queue entry point flag. Set to `true` for custom messaging services
- `queue_entry_point_type` (String) The queue entry point type (IBM_MQ, JMS, KAFKA, MSMQ or RABBIT_MQ)
- `rule` (Block List) The list of rules defining the custom service (see [below for nested schema](#nestedblock--rule))
- `unknowns` (String) allows for configuring properties that are not explicitly supported by the current version of this provider

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--rule"></a>
### Nested Schema for `rule`

Required:

- `enabled` (Boolean) Rule enabled/disabled
- `method` (Block List, Min: 1) methods to instrument (see [below for nested schema](#nestedblock--rule--method))

Optional:

- `annotations` (Set of String) Additional annotations filter of the rule. Only classes where all listed annotations are available in the class itself or any of its superclasses are instrumented. Not applicable to PHP
- `class` (Block List, Max: 1) The fully qualified class or interface to instrument (or a substring if matching to a string). Required for Java and .NET custom services. Not applicable to PHP (see [below for nested schema](#nestedblock--rule--class))
- `file` (Block List, Max: 1) The PHP file containing the class or methods to instrument. Required for PHP custom service. Not applicable to Java and .NET (see [below for nested schema](#nestedblock--rule--file))
- `unknowns` (String) allows for configuring properties that are not explicitly supported by the current version of this provider

<a id="nestedblock--rule--method"></a>
### Nested Schema for `rule.method`

Required:

- `name` (String) The method to instrument

Optional:

- `arguments` (List of String) Fully qualified types of argument the method expects
- `modifiers` (List of String) The modifiers of the method rule. Possible values are `ABSTRACT`, `EXTERN`, `FINAL`, `NATIVE` and `STATIC`
- `returns` (String) Fully qualified type the method returns
- `unknowns` (String) allows for configuring properties that are not explicitly supported by the current version of this provider
- `visibility` (String) The visibility of the method rule. Possible values are `INTERNAL`, `PACKAGE_PROTECTED`, `PRIVATE`, `PROTECTED` and `PUBLIC`

Read-Only:

- `id` (String) The ID of the method rule


<a id="nestedblock--rule--class"></a>
### Nested Schema for `rule.class`

Required:

- `name` (String) The full name of the class / the name to match the class name with

Optional:

- `match` (String) Matcher applying to the class name (ENDS_WITH, EQUALS or STARTS_WITH). STARTS_WITH can only be used if there is at least one annotation defined. Default value is EQUALS


<a id="nestedblock--rule--file"></a>
### Nested Schema for `rule.file`

Required:

- `name` (String) The full name of the file / the name to match the file name with

Optional:

- `match` (String) Matcher applying to the file name (ENDS_WITH, EQUALS or STARTS_WITH). Default value is ENDS_WITH (if applicable)
 