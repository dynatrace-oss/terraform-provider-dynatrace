---
layout: ""
page_title: "dynatrace_web_app_auto_injection Resource - terraform-provider-dynatrace"
subcategory: "Web Applications"
description: |-
  The resource `dynatrace_web_app_auto_injection` covers configuration for web application automatic injection
---

# dynatrace_web_app_auto_injection (Resource)

-> This resource requires the API token scopes **Read settings** (`settings.read`) and **Write settings** (`settings.write`)

## Dynatrace Documentation

- RUM JavaScript injection - https://docs.dynatrace.com/docs/observe/digital-experience/web-applications/initial-setup/rum-injection

- Settings API - https://www.dynatrace.com/support/help/dynatrace-api/environment-api/settings (schemaId: `builtin:rum.web.automatic-injection`)

## Export Example Usage

- `terraform-provider-dynatrace -export dynatrace_web_app_auto_injection` downloads existing automatic injection configuration

The full documentation of the export feature is available [here](https://dt-url.net/h203qmc).

## Resource Example Usage

```terraform
resource "dynatrace_web_app_auto_injection" "#name#" {
  application_id = "APPLICATION-1234567890000000"
  cache_control_headers {
    cache_control_headers = true
  }
  monitoring_code_source_section {
    code_source          = "OneAgent"
    monitoring_code_path = "/testpath/"
  }
  snippet_format {
    code_snippet_type = "DEFERRED"
    snippet_format    = "Code Snippet"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `application_id` (String) The scope of this settings. If the settings should cover the whole environment, just don't specify any scope.
- `cache_control_headers` (Block List, Min: 1, Max: 1) Cache control headers (see [below for nested schema](#nestedblock--cache_control_headers))
- `monitoring_code_source_section` (Block List, Min: 1, Max: 1) Real User Monitoring code source (see [below for nested schema](#nestedblock--monitoring_code_source_section))
- `snippet_format` (Block List, Min: 1, Max: 1) *Code Snippet:* OneAgent injects an inline script that initializes Dynatrace and dynamically downloads the monitoring code into your application. Use when you want to inject the monitoring code in deferred mode.

 *Inline Code:* OneAgent injects the configuration and the monitoring code inline into your application. Use this injection type when you need to keep the number of web requests at a minimum.

 *OneAgent JavaScript Tag:* OneAgent injects a JavaScript tag into your application, containing the configuration and a link to the monitoring code. This is our default injection type, since it's most versatile.

Compare the different [injection formats](https://dt-url.net/vx5g0ptn). (see [below for nested schema](#nestedblock--snippet_format))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--cache_control_headers"></a>
### Nested Schema for `cache_control_headers`

Required:

- `cache_control_headers` (Boolean) [How to ensure timely configuration updates for automatic injection?](https://dt-url.net/m9039ea)


<a id="nestedblock--monitoring_code_source_section"></a>
### Nested Schema for `monitoring_code_source_section`

Required:

- `code_source` (String) Real User Monitoring code source

Optional:

- `monitoring_code_path` (String) Specify the source path for placement of your application's custom JavaScript library file. By default, this path is set to the root directory of your web server. A custom source path may be necessary if your server operates behind a firewall.


<a id="nestedblock--snippet_format"></a>
### Nested Schema for `snippet_format`

Required:

- `snippet_format` (String) Snippet format

Optional:

- `code_snippet_type` (String) Possible Values: `DEFERRED`, `SYNCHRONOUSLY`
 