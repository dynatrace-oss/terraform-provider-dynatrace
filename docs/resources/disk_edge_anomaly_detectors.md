---
layout: ""
page_title: dynatrace_disk_edge_anomaly_detectors Resource - terraform-provider-dynatrace"
subcategory: "Anomaly Detection"
description: |-
  The resource `dynatrace_disk_edge_anomaly_detectors` covers configuration for disk edge anomaly detection
---

# dynatrace_disk_edge_anomaly_detectors (Resource)

-> This resource requires the API token scopes **Read settings** (`settings.read`) and **Write settings** (`settings.write`)

## Dynatrace Documentation

- Adjust the sensitivity of anomaly detection for infrastructure - https://www.dynatrace.com/support/help/how-to-use-dynatrace/problem-detection-and-analysis/problem-detection/adjust-sensitivity-anomaly-detection/adjust-sensitivity-infastructure

- Settings API - https://www.dynatrace.com/support/help/dynatrace-api/environment-api/settings (schemaId: `builtin:infrastructure.disk.edge.anomaly-detectors`)

## Export Example Usage

- `terraform-provider-dynatrace -export dynatrace_disk_edge_anomaly_detectors` downloads all existing disk edge anomaly detection configuration

The full documentation of the export feature is available [here](https://dt-url.net/h203qmc).

## Resource Example Usage

```terraform
resource "dynatrace_disk_edge_anomaly_detectors" "#name#" {
  enabled           = true
  disk_name_filters = [ "$eq(/)" ]
  operating_system  = [ "WINDOWS", "LINUX" ]
  policy_name       = "#name#"
  scope             = "environment"
  alerts {
    alert {
      threshold_percent = 10
      trigger           = "AVAILABLE_DISK_SPACE_PERCENT_BELOW"
      sample_count_thresholds {
        dealerting_evaluation_window = 30
        dealerting_samples           = 24
        violating_evaluation_window  = 30
        violating_samples            = 18
      }
    }
  }
  event_properties {
    event_propertie {
      metadata_key   = "ExampleKey"
      metadata_value = "ExampleValue"
    }
  }
  host_metadata_conditions {
    host_metadata_condition {
      host_metadata_condition {
        metadata_condition = "$contains(terraform)"
        metadata_key       = "ExampleKey"
      }
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `enabled` (Boolean) This setting is enabled (`true`) or disabled (`false`)
- `policy_name` (String) Policy name

### Optional

- `alerts` (Block List, Max: 1) Alerts (see [below for nested schema](#nestedblock--alerts))
- `disk_name_filters` (Set of String) Disk will be included in this policy if **any** of the filters match
- `event_properties` (Block List, Max: 1) Set of additional key-value properties to be attached to the triggered event. (see [below for nested schema](#nestedblock--event_properties))
- `host_metadata_conditions` (Block List, Max: 1) The policy will be enabled if **all** conditions are met (see [below for nested schema](#nestedblock--host_metadata_conditions))
- `operating_system` (Set of String) Select the operating systems on which policy should be applied
- `scope` (String) The scope of this setting (HOST, HOST_GROUP). Omit this property if you want to cover the whole environment.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--alerts"></a>
### Nested Schema for `alerts`

Required:

- `alert` (Block Set, Min: 1) (see [below for nested schema](#nestedblock--alerts--alert))

<a id="nestedblock--alerts--alert"></a>
### Nested Schema for `alerts.alert`

Required:

- `trigger` (String) Possible Values: `AVAILABLE_DISK_SPACE_MEBIBYTES_BELOW`, `AVAILABLE_DISK_SPACE_PERCENT_BELOW`, `AVAILABLE_INODES_NUMBER_BELOW`, `AVAILABLE_INODES_PERCENT_BELOW`, `READ_ONLY_FILE_SYSTEM`, `READ_TIME_EXCEEDING`, `WRITE_TIME_EXCEEDING`

Optional:

- `sample_count_thresholds` (Block List, Max: 1) no documentation available (see [below for nested schema](#nestedblock--alerts--alert--sample_count_thresholds))
- `sample_count_thresholds_immediately` (Block List, Max: 1) no documentation available (see [below for nested schema](#nestedblock--alerts--alert--sample_count_thresholds_immediately))
- `threshold_mebibytes` (Number) no documentation available
- `threshold_milliseconds` (Number) no documentation available
- `threshold_number` (Number) no documentation available
- `threshold_percent` (Number) no documentation available

<a id="nestedblock--alerts--alert--sample_count_thresholds"></a>
### Nested Schema for `alerts.alert.sample_count_thresholds`

Required:

- `dealerting_evaluation_window` (Number) The number of **10-second samples** that form the sliding evaluation window for dealerting.
- `dealerting_samples` (Number) The number of **10-second samples** within the evaluation window that must be lower than the threshold to close an event
- `violating_evaluation_window` (Number) The number of **10-second samples** that form the sliding evaluation window to detect violating samples.
- `violating_samples` (Number) The number of **10-second samples** within the evaluation window that must exceed the threshold to trigger an event


<a id="nestedblock--alerts--alert--sample_count_thresholds_immediately"></a>
### Nested Schema for `alerts.alert.sample_count_thresholds_immediately`

Required:

- `dealerting_evaluation_window` (Number) The number of **10-second samples** that form the sliding evaluation window for dealerting.
- `dealerting_samples` (Number) The number of **10-second samples** within the evaluation window that must be lower than the threshold to close an event
- `violating_evaluation_window` (Number) The number of **10-second samples** that form the sliding evaluation window to detect violating samples.
- `violating_samples` (Number) The number of **10-second samples** within the evaluation window that must exceed the threshold to trigger an event




<a id="nestedblock--event_properties"></a>
### Nested Schema for `event_properties`

Required:

- `event_propertie` (Block Set, Min: 1) (see [below for nested schema](#nestedblock--event_properties--event_propertie))

<a id="nestedblock--event_properties--event_propertie"></a>
### Nested Schema for `event_properties.event_propertie`

Required:

- `metadata_key` (String) Type 'dt.' for key hints.
- `metadata_value` (String) no documentation available



<a id="nestedblock--host_metadata_conditions"></a>
### Nested Schema for `host_metadata_conditions`

Required:

- `host_metadata_condition` (Block Set, Min: 1) (see [below for nested schema](#nestedblock--host_metadata_conditions--host_metadata_condition))

<a id="nestedblock--host_metadata_conditions--host_metadata_condition"></a>
### Nested Schema for `host_metadata_conditions.host_metadata_condition`

Required:

- `host_metadata_condition` (Block List, Min: 1, Max: 1) no documentation available (see [below for nested schema](#nestedblock--host_metadata_conditions--host_metadata_condition--host_metadata_condition))

<a id="nestedblock--host_metadata_conditions--host_metadata_condition--host_metadata_condition"></a>
### Nested Schema for `host_metadata_conditions.host_metadata_condition.host_metadata_condition`

Required:

- `metadata_condition` (String) This string has to match a required format.

- `$contains(production)` – Matches if `production` appears anywhere in the host metadata value.
- `$eq(production)` – Matches if `production` matches the host metadata value exactly.
- `$prefix(production)` – Matches if `production` matches the prefix of the host metadata value.
- `$suffix(production)` – Matches if `production` matches the suffix of the host metadata value.

Available logic operations:
- `$not($eq(production))` – Matches if the host metadata value is different from `production`.
- `$and($prefix(production),$suffix(main))` – Matches if host metadata value starts with `production` and ends with `main`.
- `$or($prefix(production),$suffix(main))` – Matches if host metadata value starts with `production` or ends with `main`.

Brackets **(** and **)** that are part of the matched property **must be escaped with a tilde (~)**
- `metadata_key` (String) Key
 