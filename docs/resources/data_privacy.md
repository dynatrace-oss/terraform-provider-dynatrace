---
layout: ""
page_title: "dynatrace_data_privacy Resource - terraform-provider-dynatrace"
subcategory: "Environment Settings"
description: |-
  The resource `dynatrace_data_privacy` covers configuration for end users' data privacy
---

# dynatrace_data_privacy (Resource)

-> This resource requires the API token scopes **Read settings** (`settings.read`) and **Write settings** (`settings.write`)

## Dynatrace Documentation

- Data privacy and security - https://www.dynatrace.com/support/help/manage/data-privacy-and-security

- Settings API - https://www.dynatrace.com/support/help/dynatrace-api/environment-api/settings (schemaId: `builtin:preferences.privacy`)

## Export Example Usage

- `terraform-provider-dynatrace -export dynatrace_data_privacy` downloads all existing end users' data privacy configuration

The full documentation of the export feature is available [here](https://dt-url.net/h203qmc).

## Resource Example Usage

```terraform
resource "dynatrace_data_privacy" "#name#" {
  application_id = "environment"
  data_collection {
    opt_in_mode_enabled = true
  }
  do_not_track {
    comply_with_do_not_track = false
  }
  masking {
    personal_data_uri_masking_enabled = true
    user_action_masking_enabled       = true
  }
  user_tracking {
    persistent_cookie_enabled = true
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `data_collection` (Block List, Min: 1, Max: 1) To provide your end users with the ability to decide for themselves if their activities should be tracked to measure application performance and usage, enable opt-in mode. (see [below for nested schema](#nestedblock--data_collection))
- `do_not_track` (Block List, Min: 1, Max: 1) Most modern web browsers have a privacy feature called ["Do Not Track"](https://dt-url.net/sb3n0pnl) that individual users may have enabled on their devices. Customize how Dynatrace should behave when it encounters this setting. (see [below for nested schema](#nestedblock--do_not_track))
- `masking` (Block List, Min: 1, Max: 1) no documentation available (see [below for nested schema](#nestedblock--masking))
- `user_tracking` (Block List, Min: 1, Max: 1) User tracking (see [below for nested schema](#nestedblock--user_tracking))

### Optional

- `application_id` (String) The scope of this settings. If the settings should cover the whole environment, just don't specify any scope.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--data_collection"></a>
### Nested Schema for `data_collection`

Required:

- `opt_in_mode_enabled` (Boolean) With [Data-collection and opt-in mode](https://dt-url.net/7l3p0p3h) enabled, Real User Monitoring data isn't captured until dtrum.enable() is called for specific user sessions.


<a id="nestedblock--do_not_track"></a>
### Nested Schema for `do_not_track`

Required:

- `comply_with_do_not_track` (Boolean) Comply with "Do Not Track" browser settings

Optional:

- `do_not_track` (String) Possible Values: `Anonymous`, `Disable_rum`


<a id="nestedblock--masking"></a>
### Nested Schema for `masking`

Required:

- `personal_data_uri_masking_enabled` (Boolean) Dynatrace captures the URIs and request headers sent from desktop and mobile browsers. Dynatrace also captures full URIs on the server-side to enable detailed performance analysis of your applications. For complete details, visit [Mask personal data in URIs](https://dt-url.net/mask-personal-data-in-URIs).. URIs and request headers contain personal data. When this setting is enabled, Dynatrace automatically detects UUIDs, credit card numbers, email addresses, IP addresses, and other IDs and replaces those values with placeholders. The personal data is then masked in PurePath analysis, error analysis, user action naming for RUM, and elsewhere in Dynatrace.
- `user_action_masking_enabled` (Boolean) When Dynatrace detects a user action that triggers a page load or an AJAX/XHR action. To learn more about masking user actions, visit [Mask user actions](https://dt-url.net/mask-user-action).. When Dynatrace detects a user action that triggers a page load or an AJAX/XHR action, it constructs a name for the user action based on:

- User event type (click on..., loading of page..., or keypress on...)
- Title, caption, label, value, ID, className, or other available property of the related HTML element (for example, an image, button, checkbox, or text input field).

In most instances, the default approach to user-action naming works well, resulting in user-action names such as:

- click on "Search" on page /search.html
- keypress on "Feedback" on page /contact.html
- touch on "Homescreen" of page /list.jsf

In rare circumstances, confidential data (for example, email addresses, usernames, or account numbers) can be unintentionally included in user action names because the confidential data itself is included in an HTML element label, attribute, or other value (for example, click on "my Account Number: 1231231"...). If such confidential data appears in your application's user action names, enable the Mask user action names setting. This setting replaces specific HTML element names and values with generic HTML element names. With user-action name masking enabled, the user action names listed above appear as:

- click on INPUT on page /search.html
- keypress on TEXTAREA on page /contact.html
- touch on DIV of page /list.jsf

Optional:

- `ip_address_masking` (String, Deprecated) Possible Values: `All`, `Public`
- `ip_address_masking_enabled` (Boolean, Deprecated) Dynatrace captures the IP addresses of your end-users to determine the regions from which they access your application. To learn more, visit [Mask IPs and GPS coordinates](https://dt-url.net/mask-end-users-ip-addresses).. Dynatrace also captures GPS data from mobile apps that provide their users with the option of sharing geolocation data. On the server side, Dynatrace captures IP addresses to enable detailed troubleshooting for Dynatrace service calls.

Once enabled, IP address masking sets the last octet of monitored IPv4 addresses and the last 80 bits of IPv6 addresses to zeroes. GPS coordinates are rounded up to 1 decimal place (~10 km). This masking occurs in memory. Full IP addresses are never written to disk. Location lookups are made using anonymized IP addresses and GPS coordinates.


<a id="nestedblock--user_tracking"></a>
### Nested Schema for `user_tracking`

Required:

- `persistent_cookie_enabled` (Boolean) When enabled, Dynatrace places a [persistent cookie](https://dt-url.net/313o0p4n) on all end-user devices to identify returning users.
 