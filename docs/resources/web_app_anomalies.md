---
layout: ""
page_title: "dynatrace_web_app_anomalies Resource - terraform-provider-dynatrace"
subcategory: "Anomaly Detection"
description: |-
  The resource `dynatrace_web_app_anomalies` covers configuration for web application anomaly detection
---

# dynatrace_web_app_anomalies (Resource)

-> This resource requires the API token scopes **Read settings** (`settings.read`) and **Write settings** (`settings.write`)

## Dynatrace Documentation

- Adjust the sensitivity of anomaly detection for applications - https://www.dynatrace.com/support/help/how-to-use-dynatrace/problem-detection-and-analysis/problem-detection/adjust-sensitivity-anomaly-detection/adjust-sensitivity-applications

- Settings API - https://www.dynatrace.com/support/help/dynatrace-api/environment-api/settings (schemaId: `builtin:anomaly-detection.rum-web`)

## Export Example Usage

- `terraform-provider-dynatrace -export dynatrace_web_app_anomalies` downloads all existing web application anomaly detection configuration

The full documentation of the export feature is available [here](https://dt-url.net/h203qmc).

## Resource Example Usage

```terraform
resource "dynatrace_web_app_anomalies" "#name#" {
  scope = "APPLICATION-1234567890000000"
  error_rate {
    enabled                   = true
    error_rate_detection_mode = "auto"
    error_rate_auto {
      absolute_increase = 10
      relative_increase = 70
      over_alerting_protection {
        actions_per_minute     = 12
        minutes_abnormal_state = 2
      }
    }
  }
  response_time {
    enabled        = true
    detection_mode = "fixed"
    response_time_fixed {
      sensitivity = "low"
      over_alerting_protection {
        actions_per_minute     = 10
        minutes_abnormal_state = 1
      }
      response_time_all {
        degradation_milliseconds = 100
      }
      response_time_slowest {
        slowest_degradation_milliseconds = 1000
      }
    }
  }
  traffic_drops {
    enabled = false
  }
  traffic_spikes {
    enabled = true
    traffic_spikes {
      minutes_abnormal_state   = 2
      traffic_spike_percentage = 250
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `error_rate` (Block List, Min: 1, Max: 1) Error rate (see [below for nested schema](#nestedblock--error_rate))
- `response_time` (Block List, Min: 1, Max: 1) Response time (see [below for nested schema](#nestedblock--response_time))
- `traffic_drops` (Block List, Min: 1, Max: 1) Detect traffic drops (see [below for nested schema](#nestedblock--traffic_drops))
- `traffic_spikes` (Block List, Min: 1, Max: 1) Detect traffic spikes (see [below for nested schema](#nestedblock--traffic_spikes))

### Optional

- `scope` (String) The scope of this setting (APPLICATION_METHOD, APPLICATION). Omit this property if you want to cover the whole environment.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--error_rate"></a>
### Nested Schema for `error_rate`

Required:

- `enabled` (Boolean) This setting is enabled (`true`) or disabled (`false`)

Optional:

- `error_rate_auto` (Block List, Max: 1) Alert if the percentage of failing user actions increases by **both** the absolute and relative thresholds: (see [below for nested schema](#nestedblock--error_rate--error_rate_auto))
- `error_rate_detection_mode` (String) Possible Values: `Auto`, `Fixed`
- `error_rate_fixed` (Block List, Max: 1) no documentation available (see [below for nested schema](#nestedblock--error_rate--error_rate_fixed))

<a id="nestedblock--error_rate--error_rate_auto"></a>
### Nested Schema for `error_rate.error_rate_auto`

Required:

- `absolute_increase` (Number) Absolute threshold
- `over_alerting_protection` (Block List, Min: 1, Max: 1) Avoid over-alerting (see [below for nested schema](#nestedblock--error_rate--error_rate_auto--over_alerting_protection))
- `relative_increase` (Number) Relative threshold

<a id="nestedblock--error_rate--error_rate_auto--over_alerting_protection"></a>
### Nested Schema for `error_rate.error_rate_auto.over_alerting_protection`

Required:

- `actions_per_minute` (Number) Only alert if there are at least
- `minutes_abnormal_state` (Number) Only alert if the abnormal state remains for at least



<a id="nestedblock--error_rate--error_rate_fixed"></a>
### Nested Schema for `error_rate.error_rate_fixed`

Required:

- `error_rate_req_per_min` (Number) To avoid over-alerting for low traffic applications
- `error_rate_sensitivity` (String) Possible Values: `Low`, `Medium`, `High`
- `max_failure_rate_increase` (Number) Alert if this custom error rate threshold is exceeded during any 5-minute-period
- `minutes_abnormal_state` (Number) Amount of minutes the observed traffic has to stay in abnormal state before alert



<a id="nestedblock--response_time"></a>
### Nested Schema for `response_time`

Required:

- `enabled` (Boolean) This setting is enabled (`true`) or disabled (`false`)

Optional:

- `detection_mode` (String) Possible Values: `Auto`, `Fixed`
- `response_time_auto` (Block List, Max: 1) no documentation available (see [below for nested schema](#nestedblock--response_time--response_time_auto))
- `response_time_fixed` (Block List, Max: 1) no documentation available (see [below for nested schema](#nestedblock--response_time--response_time_fixed))

<a id="nestedblock--response_time--response_time_auto"></a>
### Nested Schema for `response_time.response_time_auto`

Required:

- `over_alerting_protection` (Block List, Min: 1, Max: 1) Avoid over-alerting (see [below for nested schema](#nestedblock--response_time--response_time_auto--over_alerting_protection))
- `response_time_all` (Block List, Min: 1, Max: 1) Alert if the median response time of all user actions degrades beyond **both** the absolute and relative thresholds: (see [below for nested schema](#nestedblock--response_time--response_time_auto--response_time_all))
- `response_time_slowest` (Block List, Min: 1, Max: 1) Alert if the response time of the slowest 10% of requests degrades beyond **both** the absolute and relative thresholds: (see [below for nested schema](#nestedblock--response_time--response_time_auto--response_time_slowest))

<a id="nestedblock--response_time--response_time_auto--over_alerting_protection"></a>
### Nested Schema for `response_time.response_time_auto.over_alerting_protection`

Required:

- `actions_per_minute` (Number) Only alert if there are at least
- `minutes_abnormal_state` (Number) Only alert if the abnormal state remains for at least


<a id="nestedblock--response_time--response_time_auto--response_time_all"></a>
### Nested Schema for `response_time.response_time_auto.response_time_all`

Required:

- `degradation_milliseconds` (Number) Absolute threshold
- `degradation_percent` (Number) Relative threshold


<a id="nestedblock--response_time--response_time_auto--response_time_slowest"></a>
### Nested Schema for `response_time.response_time_auto.response_time_slowest`

Required:

- `slowest_degradation_milliseconds` (Number) Absolute threshold
- `slowest_degradation_percent` (Number) Relative threshold



<a id="nestedblock--response_time--response_time_fixed"></a>
### Nested Schema for `response_time.response_time_fixed`

Required:

- `over_alerting_protection` (Block List, Min: 1, Max: 1) Avoid over-alerting (see [below for nested schema](#nestedblock--response_time--response_time_fixed--over_alerting_protection))
- `response_time_all` (Block List, Min: 1, Max: 1) Alert if the key performance metric of all requests degrades beyond this threshold: (see [below for nested schema](#nestedblock--response_time--response_time_fixed--response_time_all))
- `response_time_slowest` (Block List, Min: 1, Max: 1) Alert if the key performance metric of the slowest 10% of requests degrades beyond this threshold: (see [below for nested schema](#nestedblock--response_time--response_time_fixed--response_time_slowest))
- `sensitivity` (String) Possible Values: `Medium`, `High`, `Low`

<a id="nestedblock--response_time--response_time_fixed--over_alerting_protection"></a>
### Nested Schema for `response_time.response_time_fixed.over_alerting_protection`

Required:

- `actions_per_minute` (Number) Only alert if there are at least
- `minutes_abnormal_state` (Number) Only alert if the abnormal state remains for at least


<a id="nestedblock--response_time--response_time_fixed--response_time_all"></a>
### Nested Schema for `response_time.response_time_fixed.response_time_all`

Required:

- `degradation_milliseconds` (Number) Alert if the key performance metric degrades beyond this many ms within an observation period of 5 minutes


<a id="nestedblock--response_time--response_time_fixed--response_time_slowest"></a>
### Nested Schema for `response_time.response_time_fixed.response_time_slowest`

Required:

- `slowest_degradation_milliseconds` (Number) Alert if the key performance metric of the slowest 10% degrades beyond this many ms within an observation period of 5 minutes




<a id="nestedblock--traffic_drops"></a>
### Nested Schema for `traffic_drops`

Required:

- `enabled` (Boolean) This setting is enabled (`true`) or disabled (`false`)

Optional:

- `traffic_drops` (Block List, Max: 1) Dynatrace learns your typical application traffic over an observation period of one week.

Depending on this expected value Dynatrace detects abnormal traffic drops within your application. (see [below for nested schema](#nestedblock--traffic_drops--traffic_drops))

<a id="nestedblock--traffic_drops--traffic_drops"></a>
### Nested Schema for `traffic_drops.traffic_drops`

Required:

- `abnormal_state_abnormal_state` (Number) Minutes the observed traffic has to stay in abnormal state before alert
- `traffic_drop_percentage` (Number) Alert if the observed traffic is less than this percentage of the expected value



<a id="nestedblock--traffic_spikes"></a>
### Nested Schema for `traffic_spikes`

Required:

- `enabled` (Boolean) This setting is enabled (`true`) or disabled (`false`)

Optional:

- `traffic_spikes` (Block List, Max: 1) Dynatrace learns your typical application traffic over an observation period of one week.

Depending on this expected value Dynatrace detects abnormal traffic spikes within your application. (see [below for nested schema](#nestedblock--traffic_spikes--traffic_spikes))

<a id="nestedblock--traffic_spikes--traffic_spikes"></a>
### Nested Schema for `traffic_spikes.traffic_spikes`

Required:

- `minutes_abnormal_state` (Number) Minutes an application has to stay in abnormal state before alert
- `traffic_spike_percentage` (Number) Alert if the observed traffic is more than this percentage of the expected value
 