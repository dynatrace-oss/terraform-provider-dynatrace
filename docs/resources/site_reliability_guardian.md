---
layout: ""
page_title: "dynatrace_site_reliability_guardian Resource - terraform-provider-dynatrace"
subcategory: "Automation"
description: |-
  The resource `dynatrace_site_reliability_guardian` covers configuration for Site Reliability Guardian
---

# dynatrace_site_reliability_guardian (Resource)

-> This resource requires the `Site Reliability Guardian` app to be installed via the Dynatrace Hub.

-> This resource requires the API token scopes **Read settings** (`settings.read`) and **Write settings** (`settings.write`)

-> This resource requires an OAuth client that uses the standard client credentials flow to authenticate a service user with the API. Please set the environment variables `DYNATRACE_AUTOMATION_CLIENT_ID` and `DYNATRACE_AUTOMATION_CLIENT_SECRET` with the client ID and secret. 

## Dynatrace Documentation

- Site Reliability Guardian - https://docs.dynatrace.com/docs/platform-modules/automations/site-reliability-guardian

- Settings API - https://www.dynatrace.com/support/help/dynatrace-api/environment-api/settings (schemaId: `app:dynatrace.site.reliability.guardian:guardians`)

## Export Example Usage

- `terraform-provider-dynatrace -export dynatrace_site_reliability_guardian` downloads all existing Site Reliability Guardian configuration

The full documentation of the export feature is available [here](https://registry.terraform.io/providers/dynatrace-oss/dynatrace/latest/docs/guides/export-v2).

## Resource Example Usage

```terraform
resource "dynatrace_site_reliability_guardian" "#name#" {
  name = "Test"
  tags = [ "stage:staging" ]
  objectives {
    objective {
      name                = "Error rate"
      comparison_operator = "LESS_THAN_OR_EQUAL"
      dql_query           =<<-EOT
        fetch logs
        | fieldsAdd errors = toLong(loglevel == "ERROR")
        | summarize errorRate = sum(errors)/count() * 100
      EOT
      objective_type      = "DQL"
      target              = 8
      warning             = 6
    }
    objective {
      name                = "Count bizevents"
      comparison_operator = "GREATER_THAN_OR_EQUAL"
      dql_query           =<<-EOT
        fetch bizevents
        | summarize count()
      EOT
      objective_type      = "DQL"
      target              = 50
      warning             = 55
    }
  }
}
```


<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Name
- `objectives` (Block List, Min: 1, Max: 1) Objectives (see [below for nested schema](#nestedblock--objectives))

### Optional

- `description` (String) Description
- `tags` (Set of String) Define key/value pairs that further describe this guardian.
- `variables` (Block List, Max: 1) Define variables for dynamically defining DQL queries (see [below for nested schema](#nestedblock--variables))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--objectives"></a>
### Nested Schema for `objectives`

Required:

- `objective` (Block List, Min: 1) (see [below for nested schema](#nestedblock--objectives--objective))

<a id="nestedblock--objectives--objective"></a>
### Nested Schema for `objectives.objective`

Required:

- `comparison_operator` (String) Possible Values: `GREATER_THAN_OR_EQUAL`, `LESS_THAN_OR_EQUAL`
- `name` (String) Objective name
- `objective_type` (String) Possible Values: `DQL`, `REFERENCE_SLO`

Optional:

- `description` (String) no documentation available
- `dql_query` (String) DQL query
- `reference_slo` (String) Please enter the metric key of your desired SLO. SLO metric keys have to start with 'func:slo.'
- `target` (Number) no documentation available
- `warning` (Number) no documentation available



<a id="nestedblock--variables"></a>
### Nested Schema for `variables`

Required:

- `variable` (Block List, Min: 1) (see [below for nested schema](#nestedblock--variables--variable))

<a id="nestedblock--variables--variable"></a>
### Nested Schema for `variables.variable`

Required:

- `definition` (String) Value
- `name` (String) no documentation available
