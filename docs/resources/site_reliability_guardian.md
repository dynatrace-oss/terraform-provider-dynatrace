---
layout: ""
page_title: "dynatrace_site_reliability_guardian Resource - terraform-provider-dynatrace"
subcategory: "Automation"
description: |-
  The resource `dynatrace_site_reliability_guardian` covers configuration for Site Reliability Guardian
---

# dynatrace_site_reliability_guardian (Resource)

-> This resource requires the `Site Reliability Guardian` app to be installed via the Dynatrace Hub.

-> This resource requires the API token scopes **Read settings** (`settings.read`) and **Write settings** (`settings.write`)

## Dynatrace Documentation

- Site Reliability Guardian - https://docs.dynatrace.com/docs/platform-modules/automations/site-reliability-guardian

- Settings API - https://www.dynatrace.com/support/help/dynatrace-api/environment-api/settings (schemaId: `app:dynatrace.site.reliability.guardian:guardians`)

## Export Example Usage

- `terraform-provider-dynatrace -export dynatrace_site_reliability_guardian` downloads all existing Site Reliability Guardian configuration

The full documentation of the export feature is available [here](https://dt-url.net/h203qmc).

## Resource Example Usage

```terraform
resource "dynatrace_site_reliability_guardian" "#name#" {
  name = "#name#"
  tags = [ "stage:staging" ]
  event_kind = "BIZ_EVENT"
  objectives {
    objective {
      name                = "Error rate"
      comparison_operator = "LESS_THAN_OR_EQUAL"
      dql_query           =<<-EOT
        fetch logs
        | fieldsAdd errors = toLong(loglevel == "ERROR")
        | summarize errorRate = sum(errors)/count() * 100
      EOT
      objective_type      = "DQL"
      target              = 8
      warning             = 6
    }
    objective {
      name                = "Count bizevents"
      comparison_operator = "GREATER_THAN_OR_EQUAL"
      dql_query           =<<-EOT
        fetch bizevents
        | summarize count()
      EOT
      objective_type      = "DQL"
      target              = 50
      warning             = 55
    }
  }
}
```


<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Name
- `objectives` (Block List, Min: 1, Max: 1) Objectives (see [below for nested schema](#nestedblock--objectives))

### Optional

- `description` (String) Description
- `event_kind` (String) If set to null/'BIZ_EVENT' validation events stored as bizevents in Grail. If set to 'SDLC_EVENT' validation events stored as SDLC events
- `tags` (Set of String) Define key/value pairs that further describe this guardian.
- `variables` (Block List, Max: 1) Define variables for dynamically defining DQL queries (see [below for nested schema](#nestedblock--variables))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--objectives"></a>
### Nested Schema for `objectives`

Required:

- `objective` (Block List, Min: 1) (see [below for nested schema](#nestedblock--objectives--objective))

<a id="nestedblock--objectives--objective"></a>
### Nested Schema for `objectives.objective`

Required:

- `comparison_operator` (String) Possible Values: `GREATER_THAN_OR_EQUAL`, `LESS_THAN_OR_EQUAL`
- `name` (String) Objective name
- `objective_type` (String) Possible Values: `DQL`, `REFERENCE_SLO`

Optional:

- `auto_adaptive_threshold_enabled` (Boolean) Enable auto adaptive threshold
- `description` (String) no documentation available
- `display_unit` (Block List, Max: 1) Display Unit (see [below for nested schema](#nestedblock--objectives--objective--display_unit))
- `dql_query` (String) DQL query
- `reference_slo` (String) Please enter the metric key of your desired SLO. SLO metric keys have to start with 'func:slo.'
- `segments` (Block List, Max: 1) no documentation available (see [below for nested schema](#nestedblock--objectives--objective--segments))
- `target` (Number) no documentation available
- `warning` (Number) no documentation available

<a id="nestedblock--objectives--objective--display_unit"></a>
### Nested Schema for `objectives.objective.display_unit`

Required:

- `base` (String) Base Unit
- `decimals` (Number) Decimals
- `display` (String) display as unit


<a id="nestedblock--objectives--objective--segments"></a>
### Nested Schema for `objectives.objective.segments`

Required:

- `segment` (Block List, Min: 1) (see [below for nested schema](#nestedblock--objectives--objective--segments--segment))

<a id="nestedblock--objectives--objective--segments--segment"></a>
### Nested Schema for `objectives.objective.segments.segment`

Required:

- `id` (String) Segment ID

Optional:

- `variables` (Block List, Max: 1) Segment Variables (see [below for nested schema](#nestedblock--objectives--objective--segments--segment--variables))

<a id="nestedblock--objectives--objective--segments--segment--variables"></a>
### Nested Schema for `objectives.objective.segments.segment.variables`

Required:

- `variable` (Block List, Min: 1) (see [below for nested schema](#nestedblock--objectives--objective--segments--segment--variables--variable))

<a id="nestedblock--objectives--objective--segments--segment--variables--variable"></a>
### Nested Schema for `objectives.objective.segments.segment.variables.variable`

Required:

- `name` (String) Variable Name

Optional:

- `values` (List of String) Variable Values







<a id="nestedblock--variables"></a>
### Nested Schema for `variables`

Required:

- `variable` (Block List, Min: 1) (see [below for nested schema](#nestedblock--variables--variable))

<a id="nestedblock--variables--variable"></a>
### Nested Schema for `variables.variable`

Required:

- `definition` (String) Value
- `name` (String) no documentation available
