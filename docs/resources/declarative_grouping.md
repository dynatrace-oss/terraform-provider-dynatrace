---
layout: ""
page_title: dynatrace_declarative_grouping Resource - terraform-provider-dynatrace"
subcategory: "Process Group Monitoring"
description: |-
  The resource `dynatrace_declarative_grouping` covers configuration for declarative process grouping
---

# dynatrace_declarative_grouping (Resource)

-> This resource requires the API token scopes **Read settings** (`settings.read`) and **Write settings** (`settings.write`)

## Dynatrace Documentation

- Declarative process grouping - https://www.dynatrace.com/support/help/shortlink/process-groups#declare

- Settings API - https://www.dynatrace.com/support/help/dynatrace-api/environment-api/settings (schemaId: `builtin:declarativegrouping`)

## Export Example Usage

- `terraform-provider-dynatrace -export dynatrace_declarative_grouping` downloads all existing declarative process grouping configuration

The full documentation of the export feature is available [here](https://registry.terraform.io/providers/dynatrace-oss/dynatrace/latest/docs/guides/export-v2).

## Resource Example Usage

```terraform
resource "dynatrace_declarative_grouping" "#name#" {
  name    = "#name#"
  enabled = true
  scope   = "environment"
  detection {
    process_definition {
      id                 = "PGIdentifierSample"
      process_group_name = "PGDisplayNameSample"
      report             = "always"
      rules {
        rule {
          condition = "$contains(TFExecutableSample)"
          property  = "executable"
        }
        rule {
          condition = "$contains(TFCommandSample)"
          property  = "commandLine"
        }
      }
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `enabled` (Boolean) This setting is enabled (`true`) or disabled (`false`)
- `name` (String) Monitored technology name

### Optional

- `detection` (Block List, Max: 1) Enter a descriptive process group display name and a unique identifier that Dynatrace can use to recognize this process group. (see [below for nested schema](#nestedblock--detection))
- `insert_after` (String) Because this resource allows for ordering you may specify the ID of the resource instance that comes before this instance regarding order. If not specified when creating the setting will be added to the end of the list. If not specified during update the order will remain untouched
- `scope` (String) The scope of this setting (HOST, HOST_GROUP). Omit this property if you want to cover the whole environment.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--detection"></a>
### Nested Schema for `detection`

Required:

- `process_definition` (Block List, Min: 1) (see [below for nested schema](#nestedblock--detection--process_definition))

<a id="nestedblock--detection--process_definition"></a>
### Nested Schema for `detection.process_definition`

Required:

- `id` (String) Process group identifier
- `process_group_name` (String) This identifier is used by Dynatrace to recognize this process group.
- `report` (String) Possible Values: `never`, `always`, `highResourceUsage`

Optional:

- `rules` (Block List, Max: 1) Define process detection rules by selecting a process property and a condition. Each process group can have multiple detection rules associated with it. (see [below for nested schema](#nestedblock--detection--process_definition--rules))

<a id="nestedblock--detection--process_definition--rules"></a>
### Nested Schema for `detection.process_definition.rules`

Required:

- `rule` (Block List, Min: 1) (see [below for nested schema](#nestedblock--detection--process_definition--rules--rule))

<a id="nestedblock--detection--process_definition--rules--rule"></a>
### Nested Schema for `detection.process_definition.rules.rule`

Required:

- `condition` (String) - $contains(svc) – Matches if svc appears anywhere in the process property value.
- $eq(svc.exe) – Matches if svc.exe matches the process property value exactly.
- $prefix(svc) – Matches if app matches the prefix of the process property value.
- $suffix(svc.py) – Matches if svc.py matches the suffix of the process property value.

For example, $suffix(svc.py) would detect processes named loyaltysvc.py and paymentssvc.py.

For more details, see [Declarative process grouping](https://dt-url.net/j142w57).
- `property` (String) Possible Values: `Executable`, `ExecutablePath`, `CommandLine`
 