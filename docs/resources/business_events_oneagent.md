---
layout: ""
page_title: dynatrace_business_events_oneagent Resource - terraform-provider-dynatrace"
subcategory: "Business Events"
description: |-
  The resource `dynatrace_business_events_oneagent` covers configuration for OneAgent business events
---

# dynatrace_business_events_oneagent (Resource)

-> This resource requires the API token scopes **Read settings** (`settings.read`) and **Write settings** (`settings.write`)

## Dynatrace Documentation

- Business event capture - https://www.dynatrace.com/support/help/platform-modules/business-analytics/ba-events-capturing#report-business-event-oneagent

- Settings API - https://www.dynatrace.com/support/help/dynatrace-api/environment-api/settings (schemaId: `builtin:bizevents.http.incoming`)

## Export Example Usage

- `terraform-provider-dynatrace -export dynatrace_business_events_oneagent` downloads all existing OneAgent business events

The full documentation of the export feature is available [here](https://registry.terraform.io/providers/dynatrace-oss/dynatrace/latest/docs/guides/export-v2).

## Resource Example Usage

```terraform
resource "dynatrace_business_events_oneagent" "#name#" {
  enabled   = true
  rule_name = "#name#"
  scope     = "environment"
  event {
    category {
      source_type = "request.path"
    }
    data {
      event_data_field_complex {
        name = "rsbody"
        source {
          path        = "*"
          source_type = "response.body"
        }
      }
      event_data_field_complex {
        name = "req content-type"
        source {
          path        = "content-type"
          source_type = "request.headers"
        }
      }
      event_data_field_complex {
        name = "technology"
        source {
          source      = "java"
          source_type = "constant.string"
        }
      }
      event_data_field_complex {
        name = "rqbody"
        source {
          path        = "*"
          source_type = "request.body"
        }
      }
      event_data_field_complex {
        name = "res content-type"
        source {
          path        = "content-type"
          source_type = "response.headers"
        }
      }
    }
    provider {
      source      = "www.easytravel.com"
      source_type = "constant.string"
    }
    type {
      source      = "com.easytravel.search-journey"
      source_type = "constant.string"
    }
  }
  triggers {
    trigger {
      type           = "STARTS_WITH"
      case_sensitive = false
      value          = "/easytravel/rest/journeys"
      source {
        data_source = "request.path"
      }
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `enabled` (Boolean) This setting is enabled (`true`) or disabled (`false`)
- `event` (Block List, Min: 1, Max: 1) Event meta data (see [below for nested schema](#nestedblock--event))
- `rule_name` (String) Rule name
- `triggers` (Block List, Min: 1, Max: 1) Define conditions to trigger business events from incoming web requests. Triggers are connected by AND logic per capture rule. If you set multiple trigger rules, all of them need to be fulfilled to capture a business event. (see [below for nested schema](#nestedblock--triggers))

### Optional

- `insert_after` (String) Because this resource allows for ordering you may specify the ID of the resource instance that comes before this instance regarding order. If not specified when creating the setting will be added to the end of the list. If not specified during update the order will remain untouched
- `scope` (String) The scope of this setting (HOST, HOST_GROUP). Omit this property if you want to cover the whole environment.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--event"></a>
### Nested Schema for `event`

Required:

- `category` (Block List, Min: 1, Max: 1) Event category (see [below for nested schema](#nestedblock--event--category))
- `provider` (Block List, Min: 1, Max: 1) Event provider (see [below for nested schema](#nestedblock--event--provider))
- `type` (Block List, Min: 1, Max: 1) Event type (see [below for nested schema](#nestedblock--event--type))

Optional:

- `data` (Block List, Max: 1) Additional attributes for the business event. (see [below for nested schema](#nestedblock--event--data))

<a id="nestedblock--event--category"></a>
### Nested Schema for `event.category`

Required:

- `source_type` (String) Possible Values: `Constant_string`, `Request_body`, `Request_headers`, `Request_method`, `Request_parameters`, `Request_path`, `Request_url`, `Response_body`, `Response_headers`, `Response_statusCode`

Optional:

- `path` (String) [See our documentation](https://dt-url.net/ei034bx)
- `source` (String) Fixed value


<a id="nestedblock--event--provider"></a>
### Nested Schema for `event.provider`

Required:

- `source_type` (String) Possible Values: `Constant_string`, `Request_body`, `Request_headers`, `Request_method`, `Request_parameters`, `Request_path`, `Request_url`, `Response_body`, `Response_headers`, `Response_statusCode`

Optional:

- `path` (String) [See our documentation](https://dt-url.net/ei034bx)
- `source` (String) Fixed value


<a id="nestedblock--event--type"></a>
### Nested Schema for `event.type`

Required:

- `source_type` (String) Possible Values: `Constant_string`, `Request_body`, `Request_headers`, `Request_method`, `Request_parameters`, `Request_path`, `Request_url`, `Response_body`, `Response_headers`, `Response_statusCode`

Optional:

- `path` (String) [See our documentation](https://dt-url.net/ei034bx)
- `source` (String) Fixed value


<a id="nestedblock--event--data"></a>
### Nested Schema for `event.data`

Required:

- `event_data_field_complex` (Block Set, Min: 1) (see [below for nested schema](#nestedblock--event--data--event_data_field_complex))

<a id="nestedblock--event--data--event_data_field_complex"></a>
### Nested Schema for `event.data.event_data_field_complex`

Required:

- `name` (String) Field name to be added to data.
- `source` (Block List, Min: 1, Max: 1) no documentation available (see [below for nested schema](#nestedblock--event--data--event_data_field_complex--source))

<a id="nestedblock--event--data--event_data_field_complex--source"></a>
### Nested Schema for `event.data.event_data_field_complex.source`

Required:

- `source_type` (String) Possible Values: `Constant_string`, `Request_body`, `Request_headers`, `Request_method`, `Request_parameters`, `Request_path`, `Request_url`, `Response_body`, `Response_headers`, `Response_statusCode`

Optional:

- `path` (String) [See our documentation](https://dt-url.net/ei034bx)
- `source` (String) Fixed value





<a id="nestedblock--triggers"></a>
### Nested Schema for `triggers`

Required:

- `trigger` (Block Set, Min: 1) (see [below for nested schema](#nestedblock--triggers--trigger))

<a id="nestedblock--triggers--trigger"></a>
### Nested Schema for `triggers.trigger`

Required:

- `source` (Block List, Min: 1, Max: 1) no documentation available (see [below for nested schema](#nestedblock--triggers--trigger--source))
- `type` (String) Possible Values: `CONTAINS`, `ENDS_WITH`, `EQUALS`, `EXISTS`, `N_CONTAINS`, `N_ENDS_WITH`, `N_EQUALS`, `N_EXISTS`, `N_STARTS_WITH`, `STARTS_WITH`

Optional:

- `case_sensitive` (Boolean) Case sensitive
- `value` (String) no documentation available

<a id="nestedblock--triggers--trigger--source"></a>
### Nested Schema for `triggers.trigger.source`

Required:

- `data_source` (String) Possible Values: `Request_body`, `Request_headers`, `Request_method`, `Request_parameters`, `Request_path`, `Request_url`, `Response_body`, `Response_headers`, `Response_statusCode`

Optional:

- `path` (String) [See our documentation](https://dt-url.net/ei034bx)
 