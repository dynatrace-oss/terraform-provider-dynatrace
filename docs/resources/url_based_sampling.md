---
layout: ""
page_title: dynatrace_url_based_sampling Resource - terraform-provider-dynatrace"
subcategory: "Service Monitoring"
description: |-
  The resource `dynatrace_url_based_sampling` covers configuration for URL-based sampling
---

# dynatrace_url_based_sampling (Resource)

-> This resource requires the API token scopes **Read settings** (`settings.read`) and **Write settings** (`settings.write`)

When Adaptive traffic management is activated, some PurePath distributed traces will be discarded based on your environment licensed limit. With URL-based sampling, you can configure the importance of specific URLs. URLs with higher importance can be treated to be captured more often and vice versa.

## Dynatrace Documentation

- Adaptive traffic management for distributed tracing - https://docs.dynatrace.com/docs/observe-and-explore/purepath-distributed-traces/adaptive-traffic-management

- Settings API - https://www.dynatrace.com/support/help/dynatrace-api/environment-api/settings (schemaId: `builtin:url-based-sampling`)

## Export Example Usage

- `terraform-provider-dynatrace -export dynatrace_url_based_sampling` downloads all existing URL-based sampling configuration

The full documentation of the export feature is available [here](https://registry.terraform.io/providers/dynatrace-oss/dynatrace/latest/docs/guides/export-v2).

## Resource Example Usage

```terraform
resource "dynatrace_url_based_sampling" "#name#" {
  enabled              = true
  factor               = "ReduceCapturingByFactor16"
  http_method_any      = true
  ignore               = false
  path                 = "/examplepath"
  path_comparison_type = "EQUALS"
  query_parameters {
    parameter {
      name               = "QueryName"
      value              = "QueryValue"
      value_is_undefined = false
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `enabled` (Boolean) This setting is enabled (`true`) or disabled (`false`)
- `http_method_any` (Boolean) The scaling factor for the defined URL will be applied to any HTTP method.
- `ignore` (Boolean) The matching URLs will always be ignored, also if Adaptive Traffic Management is not active.

### Optional

- `factor` (String) Select the scaling factor for the current sampling rate of the system. Possible values: `IncreaseCapturing128Times`, `IncreaseCapturing64Times`, `IncreaseCapturing32Times`, `IncreaseCapturing16Times`, `IncreaseCapturing8Times`, `IncreaseCapturing4Times`, `IncreaseCapturing2Times`, `ReduceCapturingByFactor2`, `ReduceCapturingByFactor4`, `ReduceCapturingByFactor8`, `ReduceCapturingByFactor16`, `ReduceCapturingByFactor32`, `ReduceCapturingByFactor64`, `ReduceCapturingByFactor128`
- `http_method` (Set of String) Possible values: `GET`, `POST`, `PUT`, `DELETE`, `HEAD`, `CONNECT`, `OPTIONS`, `TRACE`, `PATCH`
- `insert_after` (String) Because this resource allows for ordering you may specify the ID of the resource instance that comes before this instance regarding order. If not specified when creating the setting will be added to the end of the list. If not specified during update the order will remain untouched
- `path` (String) Path of the URL.
- `path_comparison_type` (String) Path comparison condition. Possible values: `EQUALS`, `DOES_NOT_EQUAL`, `CONTAINS`, `DOES_NOT_CONTAIN`, `STARTS_WITH`, `DOES_NOT_START_WITH`, `ENDS_WITH`, `DOES_NOT_END_WITH`
- `query_parameters` (Block List, Max: 1) Add URL parameters in any order. **All** specified parameters must be present in the query of an URL to get a match. (see [below for nested schema](#nestedblock--query_parameters))
- `scope` (String) The scope of this setting (PROCESS_GROUP_INSTANCE, PROCESS_GROUP). Omit this property if you want to cover the whole environment.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--query_parameters"></a>
### Nested Schema for `query_parameters`

Required:

- `parameter` (Block Set, Min: 1) (see [below for nested schema](#nestedblock--query_parameters--parameter))

<a id="nestedblock--query_parameters--parameter"></a>
### Nested Schema for `query_parameters.parameter`

Required:

- `name` (String) Query parameter name

Optional:

- `value` (String) Query parameter value
- `value_is_undefined` (Boolean) Query parameter value is undefined
 