---
layout: ""
page_title: dynatrace_disk_options Resource - terraform-provider-dynatrace"
subcategory: "Environment Settings"
description: |-
  The resource `dynatrace_disk_options` covers configuration for host disk visibility settings
---

# dynatrace_disk_options (Resource)

-> This resource requires the API token scopes **Read settings** (`settings.read`) and **Write settings** (`settings.write`)

## Dynatrace Documentation

- Exclude disks - https://www.dynatrace.com/support/help/platform-modules/infrastructure-monitoring/hosts/configuration/exclude-disks-and-network-traffic#exclude-disks

- Settings API - https://www.dynatrace.com/support/help/dynatrace-api/environment-api/settings (schemaId: `builtin:disk.options`)

## Export Example Usage

- `terraform-provider-dynatrace -export dynatrace_disk_options` downloads all existing host disk visibility settings

The full documentation of the export feature is available [here](https://registry.terraform.io/providers/dynatrace-oss/dynatrace/latest/docs/guides/export-v2).

## Resource Example Usage

```terraform
# ID vu9U3hXa3q0AAAABABRidWlsdGluOmRpc2sub3B0aW9ucwAESE9TVAAQRDg5NUZGMDdDQzcxMDEyRQAkNmUzNzVmNDQtZmY3YS0zZDBjLThmOGUtYmFiZWU5MWQ2ZTMwvu9U3hXa3q0
resource "dynatrace_disk_options" "#name#" {
  nfs_show_all = true
  scope        = "HOST-1234567890000000"
  exclusions {
    exclusion {
      filesystem = "ntfs"
      mountpoint = "C:\\"
      os         = "OS_TYPE_WINDOWS"
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `nfs_show_all` (Boolean) When disabled OneAgent will try to deduplicate some of nfs disks. Disabled by default, applies only to Linux hosts. Requires OneAgent 1.209 or later

### Optional

- `exclusions` (Block List, Max: 1) OneAgent automatically detects and monitors all your mount points, however you can create exception rules to remove disks from the monitoring list. (see [below for nested schema](#nestedblock--exclusions))
- `scope` (String) The scope of this setting (HOST, HOST_GROUP). Omit this property if you want to cover the whole environment.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--exclusions"></a>
### Nested Schema for `exclusions`

Required:

- `exclusion` (Block List, Min: 1) (see [below for nested schema](#nestedblock--exclusions--exclusion))

<a id="nestedblock--exclusions--exclusion"></a>
### Nested Schema for `exclusions.exclusion`

Required:

- `os` (String) Possible Values: `OS_TYPE_AIX`, `OS_TYPE_DARWIN`, `OS_TYPE_HPUX`, `OS_TYPE_LINUX`, `OS_TYPE_SOLARIS`, `OS_TYPE_UNKNOWN`, `OS_TYPE_WINDOWS`, `OS_TYPE_ZOS`

Optional:

- `filesystem` (String) **File system type field:** the type of the file system to be excluded from monitoring. Examples:

* ext4
* ext3
* btrfs
* ext*

⚠️ File system types are case sensitive! 

The wildcard in the last example means to exclude matching file systems such as types ext4 and ext3
- `mountpoint` (String) **Disk or mount point path field:** the path to where the disk to be excluded from monitoring is mounted. Examples:

* /mnt/my_disk
* /staff/emp1
* C:\
* /staff/*
* /disk*

 ⚠️ Mount point paths are case sensitive! 

The wildcard in **/staff/*** means to exclude every child folder of /staff.

The wildcard in **/disk*** means to exclude every mount point starting with /disk, for example /disk1, /disk99,  /diskabc
 