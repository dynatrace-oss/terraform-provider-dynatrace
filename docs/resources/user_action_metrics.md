---
layout: ""
page_title: "dynatrace_user_action_metrics Resource - terraform-provider-dynatrace"
subcategory: "Real User Monitoring"
description: |-
  The resource `dynatrace_user_action_metrics` covers configuration for user action custom metrics
---

# dynatrace_user_action_metrics (Resource)

-> This resource requires the API token scopes **Read settings** (`settings.read`) and **Write settings** (`settings.write`)

## Dynatrace Documentation

- Create USQL custom metrics for web applications - https://www.dynatrace.com/support/help/platform-modules/digital-experience/web-applications/additional-configuration/custom-metrics-from-user-sessions

- Settings API - https://www.dynatrace.com/support/help/dynatrace-api/environment-api/settings (schemaId: `builtin:user-action-custom-metrics`)

## Export Example Usage

- `terraform-provider-dynatrace -export dynatrace_user_action_metrics` downloads all existing user action custom metrics configuration

The full documentation of the export feature is available [here](https://dt-url.net/h203qmc).

## Resource Example Usage

```terraform
resource "dynatrace_user_action_metrics" "#name#" {
  enabled    = true
  dimensions = [ "application" ]
  metric_key = "uacm.TerraformTest"
  filters {
    filter {
      field_name = "type"
      operator   = "EQUALS"
      value      = "Xhr"
    }
  }
  value {
    type = "COUNTER"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `enabled` (Boolean) This setting is enabled (`true`) or disabled (`false`)
- `metric_key` (String) Metric key
- `value` (Block List, Min: 1, Max: 1) Defines the type of value to be extracted from the user action. When using **user action counter**, the number of user actions is counted (similar to count(*) when using USQL). When using **user action field value**, the value of a user action field is extracted. (see [below for nested schema](#nestedblock--value))

### Optional

- `dimensions` (List of String) Defines the fields that are used as dimensions. A dimension is a collection of reference information about a metric data point that is of interest to your business. Dimensions are parameters like "application", "type", "apdexCategory". For example, using "type" as a dimension allows you to split chart data based on the user action type.
- `filters` (Block List, Max: 1) Defines the filters for the user action. Filters apply at the moment of extracting the data and only sessions that satisfy the filtering criteria will be used to extract the custom metrics. You will not be able to modify these filters in the metric data explorer. For example, using "type equals Xhr" will give you only data from xhr actions, while forcing the rest of user actions of different types to be ignored. (see [below for nested schema](#nestedblock--filters))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--value"></a>
### Nested Schema for `value`

Required:

- `type` (String) Possible Values: `COUNTER`, `FIELD`

Optional:

- `field_name` (String) Field name


<a id="nestedblock--filters"></a>
### Nested Schema for `filters`

Required:

- `filter` (Block List, Min: 1) (see [below for nested schema](#nestedblock--filters--filter))

<a id="nestedblock--filters--filter"></a>
### Nested Schema for `filters.filter`

Required:

- `field_name` (String) Field name
- `operator` (String) Possible Values: `EQUALS`, `GREATER_THAN`, `GREATER_THAN_OR_EQUAL_TO`, `IN`, `IS_NOT_NULL`, `IS_NULL`, `LESS_THAN`, `LESS_THAN_OR_EQUAL_TO`, `LIKE`, `NOT_EQUAL`, `NOT_LIKE`, `STARTS_WITH`

Optional:

- `value` (String) no documentation available
- `value_in` (List of String) Values
 