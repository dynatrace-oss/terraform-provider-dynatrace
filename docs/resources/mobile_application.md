---
layout: ""
page_title: "dynatrace_mobile_application Resource - terraform-provider-dynatrace"
subcategory: "Mobile & Custom Applications"
description: |-
  The resource `dynatrace_mobile_application` covers configuration for mobile applications
---

# dynatrace_mobile_application (Resource)

-> If the property `application_id` is not specified during creation, it will be generated by Dynatrace. As a result, the initial `.tf` file will need to be updated with the generated `application_id`.

-> Session and user action properties are expected to be sorted by their `key`.

-> This resource requires the API token scopes **Read configuration** (`ReadConfig`) and **Write configuration** (`WriteConfig`)

## Dynatrace Documentation

- RUM setup and configuration for mobile apps - https://www.dynatrace.com/support/help/how-to-use-dynatrace/real-user-monitoring/setup-and-configuration/mobile-apps

- Mobile and custom app API - https://www.dynatrace.com/support/help/dynatrace-api/configuration-api/rum/mobile-custom-app-configuration

## Export Example Usage

- `terraform-provider-dynatrace -export dynatrace_mobile_application` downloads all existing web application configuration

The full documentation of the export feature is available [here](https://dt-url.net/h203qmc).

## Resource Example Usage

```
resource "dynatrace_mobile_application" "SIXTH_ASDFGHIJK" {
  name                    = "SIXTH_ASDFGHIJK"
  # application_id          = "6aa7a5a0-0bdd-41fa-b888-7293f1871d5c"
  beacon_endpoint_type    = "INSTRUMENTED_WEB_SERVER"
  beacon_endpoint_url     = "http://some.server.com/dtmb"
  user_session_percentage = 100
  apdex {
    frustrated          = 12000
    frustrated_on_error = true
    tolerable           = 3000
  }

  properties {
    api_value {
      key                           = "apivaluea"
      name                          = "valueA"
      type                          = "STRING"
      aggregation                   = "LAST"
      display_name                  = "valueA"
      store_as_session_property     = true
      store_as_user_action_property = true
    }

    api_value {
      key                           = "apivalueb"
      name                          = "valueB"
      type                          = "STRING"
      aggregation                   = "LAST"
      display_name                  = "valueA"
      store_as_user_action_property = true
    }

    api_value {
      key                           = "apivaluec"
      name                          = "valueC"
      type                          = "STRING"
      aggregation                   = "LAST"
      display_name                  = "valueC"
      store_as_user_action_property = true
    }

    request_attribute {
      type                          = "STRING"
      aggregation                   = "FIRST"
      display_name                  = "string"
      id                            = "7950a7ad-c735-4efc-b896-159a3f645516"
      key                           = "str2"
      store_as_session_property     = true
    } 

    request_attribute {
      type                          = "STRING"
      aggregation                   = "FIRST"
      display_name                  = "string"
      id                            = "7950a7ad-c735-4efc-b896-159a3f645516"
      key                           = "string"
      store_as_session_property     = true
      store_as_user_action_property = true
    }
  }

}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `apdex` (Block List, Min: 1, Max: 1) Apdex configuration of a mobile application. A duration less than the **tolerable** threshold is considered satisfied (see [below for nested schema](#nestedblock--apdex))
- `beacon_endpoint_type` (String) The type of the beacon endpoint. Possible values are `CLUSTER_ACTIVE_GATE`, `ENVIRONMENT_ACTIVE_GATE` and `INSTRUMENTED_WEB_SERVER`.
- `name` (String) The name of the application

### Optional

- `application_id` (String) The UUID of the application.

It is used only by OneAgent to send data to Dynatrace. If not specified it will get generated.
- `application_type` (String) The type of the application. Either `CUSTOM_APPLICATION` or `MOBILE_APPLICATION`.
- `beacon_endpoint_url` (String) The URL of the beacon endpoint.

Only applicable when the **beacon_endpoint_type** is set to `ENVIRONMENT_ACTIVE_GATE` or `INSTRUMENTED_WEB_SERVER`
- `icon_type` (String) Custom application icon. Mobile apps always use the mobile device icon, so this icon can only be set for custom apps.
- `key_user_actions` (Set of String) User Action names to be flagged as Key User Actions
- `opt_in_mode` (Boolean) The opt-in mode is enabled (`true`) or disabled (`false`)
- `properties` (Block List, Max: 1) User Action and Session Properties (see [below for nested schema](#nestedblock--properties))
- `session_replay` (Boolean) (Field has overlap with `dynatrace_mobile_app_enablement`) The session replay is enabled (`true`) or disabled (`false`).
- `session_replay_on_crash` (Boolean) The session replay on crash is enabled (`true`) or disabled (`false`). 

Enabling requires both **sessionReplayEnabled** and **optInModeEnabled** values set to `true`.
- `user_session_percentage` (Number) (Field has overlap with `dynatrace_mobile_app_enablement` for mobile and `dynatrace_custom_app_enablement` for custom apps) The percentage of user sessions to be analyzed

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--apdex"></a>
### Nested Schema for `apdex`

Required:

- `frustrated` (Number) Apdex **frustrated** threshold, in milliseconds: a duration greater than or equal to this value is considered frustrated
- `tolerable` (Number) Apdex **tolerable** threshold, in milliseconds: a duration greater than or equal to this value is considered tolerable

Optional:

- `frustrated_on_error` (Boolean) Apdex error condition: if `true` the user session is considered frustrated when an error is reported


<a id="nestedblock--properties"></a>
### Nested Schema for `properties`

Optional:

- `api_value` (Block List) A User Action / Session Property based on a value reported by the API (see [below for nested schema](#nestedblock--properties--api_value))
- `request_attribute` (Block List) A User Action / Session Property based on a Server Side Request Attribute (see [below for nested schema](#nestedblock--properties--request_attribute))

<a id="nestedblock--properties--api_value"></a>
### Nested Schema for `properties.api_value`

Required:

- `key` (String) The unique key of the mobile session or user action property
- `type` (String) The data type of the property. Possible values are `DOUBLE`, `LONG` and `STRING`

Optional:

- `aggregation` (String) The aggregation type of the property. It defines how multiple values of the property are aggregated. Possible values are `SUM`, `MIN`, `MAX`, `FIRST` and `LAST`
- `cleanup_rule` (String) The cleanup rule of the property. Defines how to extract the data you need from a string value. Specify the [regular expression](https://dt-url.net/k9e0iaq) for the data you need there
- `display_name` (String) The display name of the property
- `name` (String) The name of the reported value
- `store_as_session_property` (Boolean) If `true`, the property is stored as a session property
- `store_as_user_action_property` (Boolean) If `true`, the property is stored as a user action property


<a id="nestedblock--properties--request_attribute"></a>
### Nested Schema for `properties.request_attribute`

Required:

- `id` (String) The ID of the request attribute
- `key` (String) The unique key of the mobile session or user action property
- `type` (String) The data type of the property. Possible values are `DOUBLE`, `LONG` and `STRING`. The value MUST match the data type of the Request Attribute.

Optional:

- `aggregation` (String) The aggregation type of the property. It defines how multiple values of the property are aggregated. Possible values are `SUM`, `MIN`, `MAX`, `FIRST` and `LAST`
- `cleanup_rule` (String) The cleanup rule of the property. Defines how to extract the data you need from a string value. Specify the [regular expression](https://dt-url.net/k9e0iaq) for the data you need there
- `display_name` (String) The display name of the property
- `store_as_session_property` (Boolean) If `true`, the property is stored as a session property
- `store_as_user_action_property` (Boolean) If `true`, the property is stored as a user action property