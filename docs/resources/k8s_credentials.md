---
layout: ""
page_title: dynatrace_k8s_credentials Resource - terraform-provider-dynatrace"
subcategory: "Deprecated"
description: |-
  The resource `dynatrace_k8s_credentials` covers configuration for Kubernetes credentials
---

# dynatrace_k8s_credentials (Resource)

!> This resource is utilizing an older API endpoint, please use [dynatrace_kubernetes](https://registry.terraform.io/providers/dynatrace-oss/dynatrace/latest/docs/resources/kubernetes) instead.

-> This resource requires the API token scopes **Read configuration** (`ReadConfig`) and **Write configuration** (`WriteConfig`)

## Dynatrace Documentation

- Kubernetes/OpenShift monitoring - https://www.dynatrace.com/support/help/how-to-use-dynatrace/infrastructure-monitoring/container-platform-monitoring/kubernetes-monitoring

- Kubernetes credentials API - https://www.dynatrace.com/support/help/dynatrace-api/configuration-api/k8s-credentials-api-api

## Export Example Usage

- `terraform-provider-dynatrace -export dynatrace_k8s_credentials` downloads all existing Kubernetes credentials configuration

The full documentation of the export feature is available [here](https://dt-url.net/h203qmc).

## Resource Example Usage

```terraform
resource "dynatrace_k8s_credentials" "#name#" {
  label                        = "#name#"
  auth_token                   = "XXXXXXXX"
  active                       = false
  certificate_check_enabled    = false
  endpoint_url                 = "https://${randomize}.${randomize}.com:6443/"
  events_integration_enabled   = true
  hostname_verification        = false
  prometheus_exporters         = false
  workload_integration_enabled = true
  event_analysis_and_alerting_enabled = true

  events_field_selectors {
    active         = true
    field_selector = "involvedObject.kind=Node"
    label          = "Node events"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `label` (String) The name of the Kubernetes credentials configuration.  Allowed characters are letters, numbers, whitespaces, and the following characters: `.+-_`. Leading or trailing whitespace is not allowed.

### Optional

- `active` (Boolean) Monitoring is enabled (`true`) or disabled (`false`) for given credentials configuration.  If not set on creation, the `true` value is used.  If the field is omitted during an update, the old value remains unaffected.
- `active_gate_group` (String) Active Gate group to filter active gates for this credentials.
- `auth_token` (String, Sensitive) The service account bearer token for the Kubernetes API server.  Submit your token on creation or update of the configuration. For security reasons, GET requests return this field as `null`.  If the field is omitted during an update, the old value remains unaffected.
- `certificate_check_enabled` (Boolean) The check of SSL certificates is enabled (`true`) or disabled (`false`) for the Kubernetes cluster.  If not set on creation, the `true` value is used.  If the field is omitted during an update, the old value remains unaffected.
- `davis_events_integration_enabled` (Boolean) Inclusion of all Davis relevant events is enabled (`true`) or disabled (`false`) for the Kubernetes cluster. If the field is omitted during an update, the old value remains unaffected
- `endpoint_url` (String) The URL of the Kubernetes API server.  It must be unique within a Dynatrace environment.  The URL must valid according to RFC 2396. Leading or trailing whitespaces are not allowed.
- `event_analysis_and_alerting_enabled` (Boolean) Event analysis and alerting is (`true`) or disabled (`false`) for the Kubernetes cluster. If the field is omitted during an update, the old value remains unaffected.
- `events_field_selectors` (Block List) Kubernetes event filters based on field-selectors. If set to `null` on creation, no events field selectors are subscribed. If set to `null` on update, no change of stored events field selectors is applied. Set an empty list to clear all events field selectors. (see [below for nested schema](#nestedblock--events_field_selectors))
- `events_integration_enabled` (Boolean) Monitoring of events is enabled (`true`) or disabled (`false`) for the Kubernetes cluster. Event monitoring depends on the active state of this configuration to be true.  If not set on creation, the `false` value is used.  If the field is omitted during an update, the old value remains unaffected.
- `hostname_verification` (Boolean) Verify hostname in certificate against Kubernetes API URL
- `prometheus_exporters` (Boolean) Prometheus exporters integration is enabled (`true`) or disabled (`false`) for the Kubernetes cluster.If the field is omitted during an update, the old value remains unaffected
- `unknowns` (String) Any attributes that aren't yet supported by this provider
- `workload_integration_enabled` (Boolean) Workload and cloud application processing is enabled (`true`) or disabled (`false`) for the Kubernetes cluster. If the field is omitted during an update, the old value remains unaffected.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--events_field_selectors"></a>
### Nested Schema for `events_field_selectors`

Required:

- `active` (Boolean) Whether subscription to this events field selector is enabled (value set to `true`). If disabled (value set to `false`), Dynatrace will stop fetching events from the Kubernetes API for this events field selector
- `field_selector` (String) The field selector string (url decoding is applied) when storing it.
- `label` (String) A label of the events field selector.

Optional:

- `unknowns` (String) Any attributes that aren't yet supported by this provider
 