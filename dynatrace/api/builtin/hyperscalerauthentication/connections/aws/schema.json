{
	"allowedScopes": [
		"environment"
	],
	"constraints": [
		{
			"customValidatorId": "hyperscaler-authentication.hyperscaler-authentication:8080/internal/settings-validation/v0.1/validate-container/awsConfiguration",
			"skipAsyncValidation": true,
			"type": "CUSTOM_VALIDATOR_REF"
		}
	],
	"description": "Connections to AWS for Dynatrace integrations",
	"displayName": "Connections to AWS environments",
	"documentation": "",
	"dynatrace": "1",
	"enums": {
		"ConsumersOfAwsRoleBasedAuthentication": {
			"description": "Dynatrace integrations that can use this connection",
			"displayName": "Consumers",
			"documentation": "",
			"items": [
				{
					"displayName": "(Deprecated) Data Acquisition",
					"value": "DA"
				},
				{
					"displayName": "Data Acquisition",
					"value": "SVC:com.dynatrace.da"
				},
				{
					"displayName": "Cost \u0026 Carbon Optimization",
					"value": "APP:dynatrace.biz.carbon"
				},
				{
					"displayName": "Business Observability",
					"value": "SVC:com.dynatrace.bo"
				},
				{
					"displayName": "OpenPipeline",
					"value": "SVC:com.dynatrace.openpipeline"
				},
				{
					"displayName": "None",
					"value": "NONE"
				}
			],
			"type": "enum"
		},
		"ConsumersOfAwsWebIdentity": {
			"description": "Dynatrace integrations that can use this connection",
			"displayName": "Consumers",
			"documentation": "",
			"items": [
				{
					"displayName": "AWS Connector",
					"value": "APP:dynatrace.aws.connector"
				},
				{
					"displayName": "Cost \u0026 Carbon Optimization",
					"value": "APP:dynatrace.biz.carbon"
				}
			],
			"type": "enum"
		},
		"Type": {
			"description": "",
			"displayName": "Type",
			"documentation": "",
			"items": [
				{
					"displayName": "AWS IAM Cross-account Role-based authentication",
					"value": "awsRoleBasedAuthentication"
				},
				{
					"displayName": "AWS Web Identity",
					"value": "awsWebIdentity"
				}
			],
			"type": "enum"
		}
	},
	"maturity": "EARLY_ADOPTER",
	"maxObjects": 500,
	"metadata": {
		"$ref": "#/types/Metadata"
	},
	"multiObject": true,
	"ordered": false,
	"ownerBasedAccessControl": true,
	"properties": {
		"awsRoleBasedAuthentication": {
			"description": "",
			"displayName": "",
			"documentation": "",
			"maxObjects": 1,
			"modificationPolicy": "DEFAULT",
			"nullable": false,
			"precondition": {
				"expectedValue": "awsRoleBasedAuthentication",
				"property": "type",
				"type": "EQUALS"
			},
			"type": {
				"$ref": "#/types/AwsRoleBasedAuthenticationConfig"
			}
		},
		"awsWebIdentity": {
			"description": "",
			"displayName": "",
			"documentation": "",
			"maxObjects": 1,
			"modificationPolicy": "DEFAULT",
			"nullable": false,
			"precondition": {
				"expectedValue": "awsWebIdentity",
				"property": "type",
				"type": "EQUALS"
			},
			"type": {
				"$ref": "#/types/AwsWebIdentity"
			}
		},
		"name": {
			"constraints": [
				{
					"maxLength": 100,
					"minLength": 3,
					"type": "LENGTH"
				},
				{
					"customMessage": "The symbol : is not allowed the name",
					"pattern": "^[^:]+$",
					"type": "PATTERN"
				}
			],
			"default": "",
			"description": "The name of the connection",
			"displayName": "Name",
			"documentation": "",
			"maxObjects": 1,
			"modificationPolicy": "NEVER",
			"nullable": false,
			"type": "text"
		},
		"type": {
			"default": "awsRoleBasedAuthentication",
			"description": "AWS Authentication mechanism to be used by the connection",
			"displayName": "Connection Type",
			"documentation": "",
			"maxObjects": 1,
			"modificationPolicy": "NEVER",
			"nullable": false,
			"type": {
				"$ref": "#/enums/Type"
			}
		}
	},
	"schemaConstraints": [
		{
			"customMessage": "There is another connection defined under this name.",
			"flattenCollections": false,
			"type": "UNIQUE",
			"uniqueProperties": [
				"name"
			]
		}
	],
	"schemaId": "builtin:hyperscaler-authentication.connections.aws",
	"types": {
		"AwsRoleBasedAuthenticationConfig": {
			"description": "",
			"displayName": "",
			"documentation": "",
			"properties": {
				"consumers": {
					"default": [
						"SVC:com.dynatrace.da"
					],
					"description": "Dynatrace integrations that can use this connection",
					"displayName": "Consumers",
					"documentation": "",
					"items": {
						"description": "",
						"displayName": "",
						"documentation": "",
						"type": {
							"$ref": "#/enums/ConsumersOfAwsRoleBasedAuthentication"
						}
					},
					"maxObjects": 1,
					"minObjects": 0,
					"modificationPolicy": "DEFAULT",
					"nullable": false,
					"type": "list"
				},
				"roleArn": {
					"constraints": [
						{
							"maxLength": 2048,
							"type": "LENGTH"
						},
						{
							"customMessage": "Invalid AWS IAM Role ARN, it does not adhere to pattern ^$|arn:aws:iam::(?:aws|\\\\d+?):role\\\\/.*$",
							"pattern": "^$|arn:aws:iam::(?:aws|\\d+?):role\\/.*$",
							"type": "PATTERN"
						}
					],
					"default": "",
					"description": "The ARN of the AWS role that should be assumed",
					"displayName": "AWS IAM Role ARN",
					"documentation": "",
					"maxObjects": 1,
					"modificationPolicy": "DEFAULT",
					"nullable": false,
					"type": "text"
				}
			},
			"searchPattern": "",
			"summaryPattern": "",
			"type": "object",
			"version": "0",
			"versionInfo": ""
		},
		"AwsWebIdentity": {
			"description": "",
			"displayName": "",
			"documentation": "",
			"properties": {
				"consumers": {
					"default": [
						"APP:dynatrace.aws.connector"
					],
					"description": "Dynatrace integrations that can use this connection",
					"displayName": "Consumers",
					"documentation": "",
					"items": {
						"description": "",
						"displayName": "",
						"documentation": "",
						"type": {
							"$ref": "#/enums/ConsumersOfAwsWebIdentity"
						}
					},
					"maxObjects": 1,
					"minObjects": 0,
					"modificationPolicy": "DEFAULT",
					"nullable": false,
					"type": "list"
				},
				"roleArn": {
					"constraints": [
						{
							"maxLength": 2048,
							"type": "LENGTH"
						},
						{
							"customMessage": "Role must be valid with given pattern ^$|arn:(?:aws|aws-cn|aws-us-gov):iam::(?:aws|\\d+?):role\\/.*$",
							"pattern": "^$|arn:(?:aws|aws-cn|aws-us-gov):iam::(?:aws|\\d+?):role\\/.*$",
							"type": "PATTERN"
						}
					],
					"default": "",
					"description": "The ARN of the AWS role that should be assumed",
					"displayName": "AWS IAM Role ARN",
					"documentation": "",
					"maxObjects": 1,
					"modificationPolicy": "DEFAULT",
					"nullable": false,
					"type": "text"
				}
			},
			"searchPattern": "",
			"summaryPattern": "",
			"type": "object",
			"version": "0",
			"versionInfo": ""
		}
	},
	"version": "0.0.21"
}